{"@timestamp":"2026-02-19T07:03:52.547612914+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:52.515329068+02:00","level":"WARN","logger_name":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s609ms929Âµs246ns)."}
{"@timestamp":"2026-02-19T07:03:52.95758851+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:52.957693056+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:03:52.957783651+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:52.994484557+02:00","level":"ERROR","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token expired: JWT expired at 2026-02-18T18:18:45Z. Current time: 2026-02-19T05:03:52Z, a difference of 38707961 milliseconds.  Allowed clock skew: 0 milliseconds."}
{"@timestamp":"2026-02-19T07:03:52.996853323+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:03:53.073883749+02:00","level":"ERROR","logger_name":"zm.unza.counseling.security.JwtAuthenticationEntryPoint","message":"Unauthorized error: Full authentication is required to access this resource"}
{"@timestamp":"2026-02-19T07:03:53.112489016+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /auth/refresh"}
{"@timestamp":"2026-02-19T07:03:53.123085534+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /auth/refresh"}
{"@timestamp":"2026-02-19T07:03:53.124323413+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/auth/refresh"}
{"@timestamp":"2026-02-19T07:03:53.124402308+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"No Bearer token found for request: /api/auth/refresh"}
{"@timestamp":"2026-02-19T07:03:53.12453785+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:03:53.125211047+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /auth/refresh"}
{"@timestamp":"2026-02-19T07:03:53.125370653+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/auth/refresh\", parameters={}"}
{"@timestamp":"2026-02-19T07:03:53.126116834+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AuthController#refreshToken(Map)"}
{"@timestamp":"2026-02-19T07:03:53.161841314+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor","message":"Read \"application/json;charset=UTF-8\" to [{refreshToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vuc2Vsb3IxQHVuemEuem0iLCJpYXQiOjE3NzE0MzUxMjUsImV4c (truncated)...]"}
{"@timestamp":"2026-02-19T07:03:53.163690364+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.BackupJob","message":"Executing BackupJob via Quartz"}
{"@timestamp":"2026-02-19T07:03:53.16455728+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.BackupJob","message":"Starting daily backup job"}
{"@timestamp":"2026-02-19T07:03:53.164856424+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.BackupJob","message":"Daily backup completed successfully"}
{"@timestamp":"2026-02-19T07:03:53.174231555+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.2184333+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        u \n    FROM\n        User u \n    LEFT JOIN\n        \n    FETCH\n        u.roles \n    WHERE\n        u.email = :email */ select\n            u1_0.id,\n            u1_0.user_type,\n            u1_0.is_active,\n            u1_0.authentication_source,\n            u1_0.available_for_appointments,\n            u1_0.bio,\n            u1_0.created_at,\n            u1_0.date_of_birth,\n            u1_0.department,\n            u1_0.email,\n            u1_0.email_verified,\n            u1_0.first_name,\n            u1_0.gender,\n            u1_0.has_signed_consent,\n            u1_0.last_login_at,\n            u1_0.last_name,\n            u1_0.license_number,\n            u1_0.password,\n            u1_0.phone_number,\n            u1_0.profile_picture,\n            u1_0.program,\n            u1_0.qualifications,\n            u1_0.reset_password_expiry,\n            u1_0.reset_password_token,\n            r1_0.user_id,\n            r1_1.id,\n            r1_1.description,\n            r1_1.name,\n            u1_0.specialization,\n            u1_0.student_id,\n            u1_0.updated_at,\n            u1_0.username,\n            u1_0.year_of_study,\n            u1_0.years_of_experience,\n            u1_0.admin_level,\n            u1_0.department_managed,\n            u1_0.client_status,\n            u1_0.consent_to_treatment,\n            u1_0.counseling_history,\n            u1_0.emergency_contact_name,\n            u1_0.emergency_contact_phone,\n            u1_0.emergency_contact_relationship,\n            u1_0.faculty,\n            u1_0.gpa,\n            u1_0.last_session_date,\n            u1_0.medical_history,\n            u1_0.notes,\n            u1_0.programme,\n            u1_0.referral_source,\n            u1_0.registration_date,\n            u1_0.risk_level,\n            u1_0.risk_score,\n            u1_0.total_sessions,\n            u1_0.available,\n            u1_0.office_location \n        from\n            users u1_0 \n        left join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                u1_0.email=?"}
{"@timestamp":"2026-02-19T07:03:53.240558154+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:03:53.24738277+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.249052869+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.250430905+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 19:18:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:03:53.2508632+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:03:53.251332588+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.253786814+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:03:53.253896501+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.334359177+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        c1_0.id,\n        c1_0.is_active,\n        c1_0.authentication_source,\n        c1_0.available_for_appointments,\n        c1_0.bio,\n        c1_0.created_at,\n        c1_0.date_of_birth,\n        c1_0.department,\n        c1_0.email,\n        c1_0.email_verified,\n        c1_0.first_name,\n        c1_0.gender,\n        c1_0.has_signed_consent,\n        c1_0.last_login_at,\n        c1_0.last_name,\n        c1_0.license_number,\n        c1_0.password,\n        c1_0.phone_number,\n        c1_0.profile_picture,\n        c1_0.program,\n        c1_0.qualifications,\n        c1_0.reset_password_expiry,\n        c1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        c1_0.specialization,\n        c1_0.student_id,\n        c1_0.updated_at,\n        c1_0.username,\n        c1_0.year_of_study,\n        c1_0.years_of_experience,\n        c1_0.available,\n        c1_0.office_location \n    from\n        users c1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on c1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            c1_0.user_type='COUNSELOR' \n            and c1_0.id=?"}
{"@timestamp":"2026-02-19T07:03:53.34056329+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:03:53.526858699+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* update\n        for zm.unza.counseling.entity.Counselor */update users \n    set\n        is_active=?,\n        authentication_source=?,\n        available_for_appointments=?,\n        bio=?,\n        date_of_birth=?,\n        department=?,\n        email=?,\n        email_verified=?,\n        first_name=?,\n        gender=?,\n        has_signed_consent=?,\n        last_login_at=?,\n        last_name=?,\n        license_number=?,\n        password=?,\n        phone_number=?,\n        profile_picture=?,\n        program=?,\n        qualifications=?,\n        reset_password_expiry=?,\n        reset_password_token=?,\n        specialization=?,\n        student_id=?,\n        updated_at=?,\n        username=?,\n        year_of_study=?,\n        years_of_experience=?,\n        available=?,\n        office_location=? \n    where\n        id=?"}
{"@timestamp":"2026-02-19T07:03:53.545037719+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:03:53.546204283+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vuc2Vsb3IxQHVuemEuem0iLCJpYXQiOjE3NzE0Nzc0MzMs (truncated)...]"}
{"@timestamp":"2026-02-19T07:03:53.547751042+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:03:53.55204818+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:53.552496379+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:53.552530335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:03:53.552584531+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.553852306+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:03:53.555449402+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:03:53.55618887+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:03:53.556747222+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:03:53.557348026+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:03:53.557453421+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.558898483+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:03:53.559481507+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:03:53.559560671+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:53.559779632+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:03:53.559869887+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:03:53.562581789+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:03:53.564516999+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:03:53.564753983+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:03:53.565250512+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:03:53.565596847+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:03:53.565652785+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:03:53.566001891+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:03:53.566348297+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:03:53.566478007+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:03:53 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:03:53.566999085+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:03:53.567062927+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:04:20.768380067+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:20.770167636+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:20.770323032+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:04:20.770947117+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:20.774353597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:04:20.780894629+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:04:20.788273097+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:04:20.791547315+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:04:20.792659797+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:04:20.792812189+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:20.794989025+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:20.798021482+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:04:20.798231303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:20.798825404+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:20.798964382+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:04:20.802902064+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:04:20.805304183+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:04:20.805471352+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:04:20.806594964+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:04:20.807003072+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:04:20.807305572+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:04:20.807592641+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:04:20.808318917+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:04:20.808552406+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:04:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:04:20.810477618+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:04:20.810660254+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:04:50.765967362+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:50.766821406+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:50.76699495+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:04:50.767488852+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:50.769958975+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:04:50.773815088+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:04:50.775322427+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:04:50.777127402+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:04:50.77805878+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:04:50.778161324+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:50.780146444+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:04:50.781614641+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:04:50.781715138+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:50.782173588+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:04:50.782249735+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:04:50.785382274+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:04:50.786523814+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:04:50.786650413+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:04:50.787267556+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:04:50.787600653+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:04:50.787673412+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:04:50.788230318+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:04:50.788558604+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:04:50.788641022+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:04:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:04:50.790178461+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:04:50.790387047+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:05:20.854396076+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:20.871465413+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:20.872597888+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:05:20.878070755+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:20.889498619+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:05:20.994185709+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:05:21.045541853+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:05:21.049926646+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:05:21.055516941+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:05:21.057535288+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:21.074172437+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:21.082279962+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:05:21.082424306+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:21.086559986+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:21.08987198+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:05:21.105915783+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:05:21.113395302+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:05:21.113711599+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:05:21.121078017+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:05:21.122843736+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:05:21.123390083+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:05:21.124391052+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:05:21.130263078+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:05:21.131960063+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:05:21 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:05:21.136786588+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:05:21.136973321+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:05:50.822118671+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:50.828569274+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:50.828664415+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:05:50.831244583+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:50.842610352+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:05:50.85555964+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:05:50.859170695+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:05:50.860829918+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:05:50.862127489+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:05:50.86221201+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:50.864001629+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:05:50.865348587+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:05:50.866249422+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:50.867270924+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:05:50.867941436+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:05:50.871886993+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:05:50.873163287+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:05:50.873375477+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:05:50.87569722+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:05:50.876280146+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:05:50.876396264+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:05:50.877041846+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:05:50.87845997+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:05:50.87897153+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:05:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:05:50.881092709+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:05:50.881150397+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:06:20.782048887+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:20.79554769+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:20.796389639+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:20.796434322+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:06:20.799177912+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:20.801980945+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:06:20.811669963+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:06:20.819456939+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:06:20.824298528+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:06:20.825378225+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:06:20.825438156+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:20.826871762+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:20.828163028+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:06:20.828317776+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:20.828714107+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:20.828797432+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:06:20.831803904+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:06:20.832742883+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:06:20.834620164+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:06:20.835172649+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:06:20.835379835+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:06:20.835545808+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:06:20.835878914+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:06:20.836342992+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:06:20.836440869+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:06:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:06:20.838507935+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:06:20.83866404+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:06:50.766619436+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:50.768191019+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:50.768403828+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:06:50.768609033+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:50.770982782+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:06:50.773930006+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:06:50.775461421+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:06:50.776543973+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:06:50.777719924+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:06:50.777828438+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:50.779395285+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:06:50.780896567+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:06:50.78103757+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:50.781602254+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:06:50.781787568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:06:50.786879815+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:06:50.788531941+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:06:50.789004527+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:06:50.789763325+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:06:50.790234227+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:06:50.790347078+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:06:50.79126499+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:06:50.791812239+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:06:50.791953227+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:06:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:06:50.793918057+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:06:50.794076115+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:07:20.769792326+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:20.771686309+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:20.772832474+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:07:20.774122542+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:20.790061648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:07:20.794694338+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:07:20.798274443+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:07:20.800346013+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:07:20.802297666+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:07:20.802695338+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:20.806480893+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:20.810281873+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:07:20.810761148+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:20.812129272+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:20.812641805+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:07:20.821467385+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:07:20.824646555+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:07:20.825637757+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:07:20.828025746+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:07:20.829349868+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:07:20.829820623+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:07:20.832224228+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:07:20.834161553+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:07:20.834580424+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:07:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:07:20.83818639+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:07:20.83870091+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:07:50.799528597+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:50.801359707+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:50.801552572+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:07:50.802247249+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:50.804780554+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:07:50.808336493+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:07:50.809840477+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:07:50.81024067+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:07:50.811024215+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:07:50.81110967+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:50.812498619+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:07:50.814105602+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:07:50.814319005+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:50.815676389+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:07:50.815882176+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:07:50.819996752+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:07:50.821244866+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:07:50.821478673+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:07:50.822574422+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:07:50.823124326+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:07:50.823226117+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:07:50.823929726+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:07:50.824315107+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:07:50.82445945+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:07:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:07:50.828581247+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:07:50.828741932+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:08:20.989508769+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:20.994381483+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:20.99456763+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:08:20.994649218+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:20.996770883+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:08:21.001218998+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:08:21.008843233+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:08:21.012435217+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:08:21.013399992+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:08:21.013462245+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:21.014499967+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:21.015982268+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:08:21.016151557+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:21.01682565+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:21.016930072+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:08:21.021505409+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:08:21.02279047+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:08:21.023017073+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:08:21.023601008+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:08:21.024168619+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:08:21.024243383+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:08:21.024730773+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:08:21.0251091+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:08:21.025219984+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:08:21 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:08:21.028428771+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:08:21.028522476+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:08:50.779868713+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:50.79751309+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:50.797658473+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:08:50.797974463+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:50.805703368+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:08:50.81261946+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:08:50.821830796+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:08:50.829566403+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:08:50.83732178+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:08:50.837526559+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:50.83978488+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:08:50.844834606+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:08:50.845133493+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:50.845723615+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:08:50.84784687+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:08:50.855531683+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:08:50.856614683+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:08:50.857087167+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:08:50.858331614+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:08:50.859298358+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:08:50.859662495+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:08:50.860468482+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:08:50.861250717+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:08:50.862596671+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:08:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:08:50.865398819+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:08:50.865983035+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:09:20.927042051+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:20.933893567+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:20.936515917+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:09:20.937387777+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:20.958254503+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:09:20.969012393+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:09:20.977322875+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:09:20.980299722+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:09:20.981575159+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:09:20.981719278+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:20.993320995+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:21.003225876+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:09:21.003439264+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:21.00603723+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:21.006258876+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:09:21.021749232+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:09:21.025198824+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:09:21.025663793+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:09:21.028060477+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:09:21.030131886+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:09:21.030288687+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:09:21.031207317+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:09:21.032155839+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:09:21.032416355+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:09:21 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:09:21.048004626+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:09:21.04815156+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:09:50.768652126+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:50.77145116+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:50.771773394+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:09:50.771904635+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:50.778394935+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:09:50.781761355+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:09:50.784384334+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:09:50.78893261+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:09:50.791406889+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:09:50.791857589+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:50.794273002+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:09:50.79654872+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:09:50.797111651+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:50.797633712+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:09:50.797787673+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:09:50.801908488+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:09:50.806912607+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:09:50.809734743+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:09:50.811321775+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:09:50.812164039+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:09:50.813084349+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:09:50.814070268+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:09:50.815054098+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:09:50.81650302+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:09:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:09:50.81768637+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:09:50.819392081+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:10:20.771482506+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:20.772874301+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:20.77293494+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:10:20.773117432+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:20.77520187+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:10:20.784653576+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:10:20.793756398+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:10:20.798856545+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:10:20.800421852+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:10:20.800531236+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:20.801561812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:20.80222333+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:10:20.802294388+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:20.802921489+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:20.80321938+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:10:20.806543479+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:10:20.807430521+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:10:20.807574188+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:10:20.808200113+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:10:20.808442183+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:10:20.808513342+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:10:20.808769669+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:10:20.809183546+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:10:20.809298957+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:10:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:10:20.812257183+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:10:20.812401681+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:10:50.770455007+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:50.775016043+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:50.777621892+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:10:50.778516705+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:50.782534584+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:10:50.788281629+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:10:50.793006484+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:10:50.797148902+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:10:50.799761303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:10:50.800284848+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:50.803776134+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:10:50.808701263+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:10:50.810358061+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:50.811125522+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:10:50.811431658+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:10:50.823773129+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:10:50.826277575+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:10:50.826952134+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:10:50.828849736+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:10:50.830650523+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:10:50.831130829+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:10:50.832157568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:10:50.833549884+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:10:50.833971374+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:10:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:10:50.838955302+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:10:50.839135705+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:11:20.806807246+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:20.810813226+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:20.810944996+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:11:20.811081137+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:20.814488776+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:11:20.818934282+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:11:20.821003592+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:11:20.82239375+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:11:20.824105098+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:11:20.824302848+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:20.826145929+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:20.827390134+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:11:20.827601822+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:20.828112078+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:20.828344169+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:11:20.833010995+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:11:20.834278373+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:11:20.834474406+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:11:20.835228273+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:11:20.835836957+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:11:20.835995296+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:11:20.83660647+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:11:20.837623104+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:11:20.837899262+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:11:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:11:20.840574944+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:11:20.840739715+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:11:50.766593461+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:50.767846865+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:50.768228069+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:11:50.768300998+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:50.770216397+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:11:50.801012123+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:11:50.803015719+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:11:50.804356602+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:11:50.805129492+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:11:50.805210921+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:50.806225766+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:11:50.807412573+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:11:50.807557811+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:50.807979066+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:11:50.808160811+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:11:50.811636176+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:11:50.812230774+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:11:50.81233607+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:11:50.812869215+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:11:50.813358779+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:11:50.813441867+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:11:50.813905228+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:11:50.81445499+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:11:50.814573846+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:11:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:11:50.816851761+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:11:50.817002991+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:12:20.765703717+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:20.767941538+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:20.768150868+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:12:20.768448492+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:20.770218547+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:12:20.772327019+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:12:20.773450493+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:12:20.77431768+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:12:20.775480643+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:12:20.775584491+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:20.776830517+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:20.778666173+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:12:20.778800532+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:20.779266557+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:20.779369936+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:12:20.783289046+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:12:20.784161976+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:12:20.784320131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:12:20.784876025+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:12:20.785466744+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:12:20.785550083+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:12:20.786105976+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:12:20.786418801+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:12:20.786531309+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:12:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:12:20.788238942+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:12:20.788334475+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:12:50.768465612+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:50.770088006+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:50.770120186+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:12:50.770197237+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:50.77404847+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:12:50.777363497+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:12:50.78005481+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:12:50.781321054+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:12:50.782237333+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:12:50.782317026+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:50.784664681+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:12:50.786364678+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:12:50.786478635+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:50.786755977+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:12:50.786876308+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:12:50.791333205+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:12:50.793959566+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:12:50.794173429+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:12:50.794858066+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:12:50.795307343+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:12:50.795401819+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:12:50.795812412+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:12:50.796261758+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:12:50.796414651+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:12:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:12:50.798550094+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:12:50.798651898+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:13:20.767072379+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:20.767983687+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:20.768026315+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:13:20.768067606+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:20.769773216+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:13:20.772288276+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:13:20.774300464+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:13:20.77543103+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:13:20.776510927+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:13:20.776646814+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:20.778624341+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:20.780640601+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:13:20.78077537+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:20.781399799+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:20.781917319+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:13:20.784977899+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:13:20.785924742+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:13:20.786008594+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:13:20.786308248+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:13:20.786782829+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:13:20.786850002+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:13:20.787266724+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:13:20.787835313+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:13:20.787962277+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:13:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:13:20.788578614+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:13:20.788655873+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:13:50.766034711+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:50.76698026+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:50.767164318+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:13:50.767209326+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:50.769818819+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:13:50.77254869+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:13:50.773631164+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:13:50.774192077+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:13:50.774748069+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:13:50.774814688+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:50.776029413+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:13:50.776940537+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:13:50.777167531+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:50.777433671+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:13:50.77751454+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:13:50.780510611+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:13:50.781687435+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:13:50.781805693+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:13:50.782550546+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:13:50.78299749+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:13:50.783079494+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:13:50.783545346+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:13:50.783848792+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:13:50.783941924+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:13:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:13:50.785245999+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:13:50.785324867+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:14:20.76665536+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:20.767640588+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:20.767762145+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:14:20.767824741+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:20.769259261+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:14:20.771233895+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:14:20.77207177+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:14:20.772351709+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:14:20.773182485+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:14:20.773295103+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:20.774588028+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:20.775551715+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:14:20.775663868+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:20.776126091+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:20.776220482+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:14:20.779396476+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:14:20.780460145+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:14:20.780557281+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:14:20.781094575+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:14:20.781526785+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:14:20.781606059+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:14:20.782092967+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:14:20.782576701+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:14:20.782732737+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:14:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:14:20.783620489+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:14:20.783741945+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:14:50.766447629+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:50.767477395+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:50.76753186+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:14:50.767570972+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:50.768525049+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:14:50.770673365+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:14:50.771569034+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:14:50.772013043+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:14:50.772643992+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:14:50.772903458+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:50.774683681+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:14:50.776399051+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:14:50.776563927+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:50.777149573+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:14:50.777281069+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:14:50.780431527+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:14:50.781307651+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:14:50.781414559+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:14:50.781951243+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:14:50.782182652+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:14:50.782259219+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:14:50.782562489+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:14:50.783070131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:14:50.783167439+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:14:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:14:50.783757267+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:14:50.783816077+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:15:20.776331168+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:20.779272919+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:20.779600585+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:15:20.779749297+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:20.790901464+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:15:20.801391871+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:15:20.805595252+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:15:20.807374149+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:15:20.809505571+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:15:20.80997223+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:20.813170947+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:20.820056616+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:15:20.821371649+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:20.82370493+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:20.82467836+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:15:20.832264515+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:15:20.836212423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:15:20.83775785+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:15:20.842103631+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:15:20.847656986+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:15:20.84944184+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:15:20.852312626+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:15:20.854037515+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:15:20.856376249+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:15:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:15:20.864663379+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:15:20.86570765+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:15:50.766256719+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:50.767033791+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:50.767090202+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:15:50.767142332+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:50.768116107+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:15:50.770052588+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:15:50.771026656+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:15:50.771552589+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:15:50.772548839+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:15:50.772632828+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:50.77357656+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:15:50.774818652+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:15:50.774944714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:50.775283425+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:15:50.775393993+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:15:50.778032551+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:15:50.778910796+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:15:50.77903215+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:15:50.780037978+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:15:50.780376179+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:15:50.780443544+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:15:50.780681672+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:15:50.781200951+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:15:50.781298444+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:15:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:15:50.781768982+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:15:50.781838671+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:16:20.766451907+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:20.767398981+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:20.767439886+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:16:20.767481447+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:20.769064964+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:16:20.77102503+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:16:20.771817352+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:16:20.772260448+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:16:20.772970753+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:16:20.773096974+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:20.774330725+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:20.775809523+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:16:20.775901689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:20.776309299+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:20.776388268+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:16:20.779092314+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:16:20.780855688+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:16:20.780972361+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:16:20.781524516+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:16:20.781867841+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:16:20.781927659+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:16:20.782123119+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:16:20.782739975+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:16:20.782818902+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:16:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:16:20.784207761+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:16:20.784288845+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:16:50.767899572+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:50.769360358+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:50.769391802+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:16:50.769447094+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:50.77166395+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:16:50.77429028+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:16:50.77542519+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:16:50.776046023+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:16:50.776833134+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:16:50.776964496+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:50.778369783+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:16:50.779865185+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:16:50.779951508+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:50.780316858+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:16:50.780399543+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:16:50.784470564+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:16:50.78566824+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:16:50.785966843+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:16:50.786350547+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:16:50.786738093+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:16:50.786806398+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:16:50.78720259+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:16:50.787503628+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:16:50.787708678+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:16:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:16:50.789104867+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:16:50.78916374+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:17:20.778644572+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:20.780141879+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:20.780212354+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:17:20.780276597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:20.783614388+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:17:20.787424344+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:17:20.791965921+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:17:20.793218577+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:17:20.795461205+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:17:20.795664714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:20.797699487+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:20.79927163+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:17:20.799417656+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:20.799939268+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:20.800090799+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:17:20.808738268+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:17:20.812593726+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:17:20.812928121+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:17:20.813976128+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:17:20.814539961+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:17:20.817621502+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:17:20.818220387+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:17:20.818841585+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:17:20.818998089+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:17:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:17:20.820590727+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:17:20.820706572+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:17:50.76901966+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:50.769756222+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:50.769803643+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:17:50.76985006+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:50.772257456+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:17:50.774746166+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:17:50.776150007+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:17:50.777118735+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:17:50.778287078+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:17:50.77844062+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:50.780010354+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:17:50.781284735+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:17:50.781398989+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:50.781794666+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:17:50.782091058+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:17:50.784918579+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:17:50.785704615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:17:50.785828576+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:17:50.786372559+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:17:50.786783666+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:17:50.786846843+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:17:50.787270301+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:17:50.787637844+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:17:50.787770614+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:17:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:17:50.788887844+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:17:50.788951419+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:18:20.766897709+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:20.767868605+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:20.768017335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:18:20.768316191+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:20.770140587+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:18:20.77321696+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:18:20.774519214+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:18:20.776203157+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:18:20.777089203+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:18:20.777215769+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:20.778851481+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:20.780884227+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:18:20.780976312+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:20.781243805+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:20.781336733+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:18:21.013777275+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:18:21.014590258+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:18:21.014685111+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:18:21.015213727+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:18:21.015718015+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:18:21.015790488+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:18:21.01602914+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:18:21.016471269+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:18:21.01658748+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:18:21 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:18:21.017595752+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:18:21.017691127+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:18:50.765910758+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:50.766965724+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:50.767038134+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:18:50.76709215+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:50.767864633+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:18:50.769830825+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:18:50.77073737+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:18:50.771322367+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:18:50.772700829+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:18:50.772879477+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:50.77400379+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:18:50.77490772+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:18:50.775027013+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:50.775455307+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:18:50.775835496+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:18:50.780097392+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:18:50.781065027+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:18:50.781214027+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:18:50.782212084+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:18:50.783034738+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:18:50.783156135+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:18:50.783722945+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:18:50.784304266+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:18:50.784475268+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:18:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:18:50.785085699+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:18:50.785180394+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:19:20.764691428+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:20.765274546+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:20.765332402+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:19:20.765387928+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:20.766511137+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:19:20.768767272+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:19:20.769752079+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:19:20.770374531+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:19:20.771242222+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:19:20.77141018+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:20.773399833+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:20.775145709+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:19:20.775269517+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:20.775774703+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:20.77596345+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:19:20.781217957+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:19:20.782196222+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:19:20.782347457+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:19:20.783322178+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:19:20.784112017+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:19:20.784241267+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:19:20.785454158+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:19:20.786361438+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:19:20.786609343+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:19:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:19:20.787368552+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:19:20.787557087+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:19:50.766646125+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:50.767668951+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:50.767750323+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:19:50.767834124+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:50.770142576+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:19:50.773458697+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:19:50.776021996+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:19:50.77720813+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:19:50.779303471+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:19:50.779524379+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:50.782966167+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:19:50.785382128+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:19:50.786180544+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:50.786924125+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:19:50.78742342+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:19:50.793487165+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:19:50.796399149+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:19:50.797288346+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:19:50.79886231+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:19:50.800172137+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:19:50.800378984+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:19:50.801998428+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:19:50.803042237+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:19:50.803376243+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:19:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:19:50.80514234+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:19:50.810616243+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:20:20.77666608+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:20.77774281+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:20.77782563+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:20:20.77790617+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:20.779920081+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:20:20.790704261+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:20:20.836022772+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:20:20.846049869+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:20:20.85307079+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:20:20.853272425+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:20.855577545+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:20.861032963+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:20:20.862716799+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:20.863795802+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:20.866268693+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:20:20.884184594+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:20:20.892185833+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:20:20.893924575+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:20:20.90224101+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:20:20.906841265+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:20:20.907321269+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:20:20.907835035+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:20:20.908752155+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:20:20.910381238+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:20:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:20:20.915622806+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:20:20.916001459+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:20:50.766360766+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:50.767097776+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:50.767176248+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:20:50.767242599+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:50.769002455+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:20:50.772983289+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:20:50.775304428+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:20:50.77744806+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:20:50.780721496+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:20:50.781283312+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:50.78367227+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:20:50.785176668+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:20:50.785320226+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:50.786075103+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:20:50.78625292+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:20:50.791729297+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:20:50.792851151+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:20:50.793042595+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:20:50.793990406+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:20:50.794666518+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:20:50.794815055+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:20:50.79563353+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:20:50.796255469+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:20:50.796438062+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:20:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:20:50.797594668+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:20:50.797699072+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:21:20.765143572+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:20.76590991+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:20.765958472+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:21:20.765990255+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:20.766828191+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:21:20.769743104+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:21:20.770937988+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:21:20.771633026+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:21:20.772573917+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:21:20.77265967+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:20.77377682+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:20.775240795+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:21:20.775306946+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:20.775507909+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:20.775580433+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:21:20.779375551+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:21:20.779988513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:21:20.780120792+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:21:20.78042417+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:21:20.781091226+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:21:20.781146486+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:21:20.781392167+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:21:20.781669609+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:21:20.781744424+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:21:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:21:20.78240943+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:21:20.782465672+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:21:32.841527662+02:00","level":"INFO","logger_name":"org.springframework.web.socket.config.WebSocketMessageBrokerStats","message":"WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 12, completed tasks = 1]"}
{"@timestamp":"2026-02-19T07:21:50.767093397+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:50.768655664+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:50.768980577+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:21:50.769072911+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:50.771285953+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:21:50.775333996+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:21:50.778098457+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:21:50.783753544+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:21:50.785444155+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:21:50.785642595+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:50.789716313+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:21:50.795355162+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:21:50.795592509+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:50.796273072+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:21:50.796466116+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:21:50.812892589+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:21:50.81463987+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:21:50.814823324+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:21:50.815682437+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:21:50.817009212+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:21:50.817188962+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:21:50.820866513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:21:50.821821226+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:21:50.822024824+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:21:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:21:50.822920578+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:21:50.823051082+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:22:20.766075588+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:20.767173782+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:20.76724207+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:22:20.76731547+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:20.769430546+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:22:20.772544443+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:22:20.775015723+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:22:20.776755923+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:22:20.778918292+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:22:20.779087841+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:20.782685837+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:20.785362035+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:22:20.785508723+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:20.786091228+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:20.7862485+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:22:20.791421327+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:22:20.792605587+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:22:20.792741247+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:22:20.793560462+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:22:20.79406752+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:22:20.794184599+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:22:20.794876345+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:22:20.795345542+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:22:20.795512012+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:22:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:22:20.796442666+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:22:20.796565028+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:22:50.774128735+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:50.778184638+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:50.778542811+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:22:50.778687648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:50.783738168+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:22:50.791483008+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:22:50.794703352+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:22:50.796138369+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:22:50.798179597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:22:50.79828668+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:50.800230225+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:22:50.801615003+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:22:50.802138801+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:50.804135549+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:22:50.804552293+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:22:50.811342738+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:22:50.813082664+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:22:50.813436256+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:22:50.814487675+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:22:50.814975103+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:22:50.815048978+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:22:50.815924248+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:22:50.81859401+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:22:50.819433545+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:22:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:22:50.822110725+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:22:50.822177946+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:23:20.77464655+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:20.779563427+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:20.779862356+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:23:20.78022588+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:20.785852202+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:23:20.795611167+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:23:20.798128903+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:23:20.800151789+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:23:20.805215047+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:23:20.805458783+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:20.80771575+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:20.813010111+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:23:20.813231527+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:20.814079349+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:20.817603106+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:23:20.825953162+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:23:20.827276084+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:23:20.827957801+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:23:20.829072329+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:23:20.832010694+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:23:20.832990862+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:23:20.83476238+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:23:20.835686919+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:23:20.839804711+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:23:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:23:20.841483915+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:23:20.841647252+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:23:50.766144973+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:50.767783215+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:50.767980618+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:23:50.768078345+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:50.770054135+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:23:50.772558875+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:23:50.774664953+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:23:50.776179274+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:23:50.777869848+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:23:50.778053593+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:50.780279444+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:23:50.782225794+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:23:50.782341208+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:50.782940854+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:23:50.783097055+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:23:50.787264297+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:23:50.788941018+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:23:50.789276212+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:23:50.790356996+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:23:50.791083051+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:23:50.791217647+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:23:50.79187276+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:23:50.792575959+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:23:50.792893473+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:23:50 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:23:50.793731455+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:23:50.793904185+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:24:20.769621459+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:24:20.771056858+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:24:20.771097178+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:24:20.771146953+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:24:20.773072642+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:24:20.775948346+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:24:20.777189208+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:24:20.77774042+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:24:20.77844866+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:24:20.778653681+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:24:20.77997213+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:24:20.78132682+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:03:53 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:24:20.781413347+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:24:20.781740789+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:24:20.781874444+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:24:20.785995403+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:24:20.787239302+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:24:20.787402798+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:24:20.788092851+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:24:20.788390333+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:24:20.788465158+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:24:20.788813319+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:24:20.789365722+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:24:20.789483815+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:24:20 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:24:20.790901701+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:24:20.790959942+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:24:28.418891543+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T07:24:28.427531178+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T07:24:28.429803352+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopping..."}
{"@timestamp":"2026-02-19T07:24:28.43059869+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d27d539]]"}
{"@timestamp":"2026-02-19T07:24:28.432104082+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d27d539]"}
{"@timestamp":"2026-02-19T07:24:28.432450231+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d27d539]"}
{"@timestamp":"2026-02-19T07:24:28.432752113+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopped."}
{"@timestamp":"2026-02-19T07:24:28.4349236+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T07:24:28.435036635+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T07:24:28.438742723+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED paused."}
{"@timestamp":"2026-02-19T07:24:28.903824884+02:00","level":"INFO","logger_name":"org.springframework.scheduling.quartz.SchedulerFactoryBean","message":"Shutting down Quartz Scheduler"}
{"@timestamp":"2026-02-19T07:24:28.904128902+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED shutting down."}
{"@timestamp":"2026-02-19T07:24:28.904396343+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED paused."}
{"@timestamp":"2026-02-19T07:24:28.906778475+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete."}
{"@timestamp":"2026-02-19T07:53:55.182650882+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Starting CounselingManagementApplication using Java 21.0.10 with PID 808116 (/home/dev/Public/unza-projects/counseling/unza-counseling-bakend/target/classes started by dev in /home/dev/Public/unza-projects/counseling/unza-counseling-bakend)"}
{"@timestamp":"2026-02-19T07:53:55.192912397+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Running with Spring Boot v3.1.5, Spring v6.0.13"}
{"@timestamp":"2026-02-19T07:53:55.193889536+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"The following 1 profile is active: \"development\""}
{"@timestamp":"2026-02-19T07:53:57.32825628+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T07:53:57.331128153+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T07:53:57.380221158+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.381914518+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.385891313+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.387347805+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.388479183+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.389690079+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.390721377+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.391830548+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.393585719+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.395279206+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.396339524+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.397382473+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.39862972+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.40062431+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.402384815+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.403980172+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.405481003+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.407233738+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.408699733+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.410134372+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.41126024+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.412543669+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.413957749+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.416053348+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.416980664+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.417969603+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.419265594+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.420242691+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 83 ms. Found 0 Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T07:53:57.42715874+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T07:53:57.427795854+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T07:53:57.44074655+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.441182456+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.441478116+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.441883106+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.442368992+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.44272566+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.443148156+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.443553997+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.443856763+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.444143005+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.444409851+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.444762171+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.445070113+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.445378547+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.445690544+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.446011204+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.44632551+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.446698818+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.447016626+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.447350969+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.447803138+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.448139967+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.448435706+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.448905094+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.449258333+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.449538646+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.449820124+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T07:53:57.449998401+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 22 ms. Found 0 Reactive Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T07:53:57.461296096+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T07:53:57.462304928+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T07:53:57.662813673+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 196 ms. Found 27 JPA repository interfaces."}
{"@timestamp":"2026-02-19T07:53:57.682037177+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T07:53:57.683283985+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T07:53:57.704835011+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.705377323+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.705839864+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.706191016+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.706453415+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.706783584+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.707022204+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.707286423+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.707541919+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.707767835+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.707991416+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.708242503+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.708449015+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.708734455+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.708986329+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.709188059+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.709421647+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.709634803+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.709967262+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.710254214+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.710646798+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.710958935+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.711251399+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.711578634+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.711873773+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.712306833+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.712619223+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T07:53:57.712764919+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces."}
{"@timestamp":"2026-02-19T07:53:58.150034439+02:00","level":"INFO","logger_name":"org.springframework.cloud.context.scope.GenericScope","message":"BeanFactory id=89d6d460-efe7-3a4a-a8ea-feb593ed1921"}
{"@timestamp":"2026-02-19T07:53:58.360586665+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'enterpriseValidationConfig' of type [zm.unza.counseling.validation.EnterpriseValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T07:53:58.390472391+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'validator' of type [org.hibernate.validator.internal.engine.ValidatorImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T07:53:59.389282939+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat initialized with port(s): 8080 (http)"}
{"@timestamp":"2026-02-19T07:53:59.407236507+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardService","message":"Starting service [Tomcat]"}
{"@timestamp":"2026-02-19T07:53:59.40819067+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.15]"}
{"@timestamp":"2026-02-19T07:53:59.625471573+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring embedded WebApplicationContext"}
{"@timestamp":"2026-02-19T07:53:59.625884227+02:00","level":"INFO","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 4324 ms"}
{"@timestamp":"2026-02-19T07:54:00.33876315+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"Flyway Community Edition 9.16.3 by Redgate"}
{"@timestamp":"2026-02-19T07:54:00.3390783+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"See release notes here: https://rd.gt/416ObMi"}
{"@timestamp":"2026-02-19T07:54:00.339193337+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":""}
{"@timestamp":"2026-02-19T07:54:00.347674341+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Starting..."}
{"@timestamp":"2026-02-19T07:54:00.747896563+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b2af0eb"}
{"@timestamp":"2026-02-19T07:54:00.749508199+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Start completed."}
{"@timestamp":"2026-02-19T07:54:00.774568107+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.database.base.BaseDatabaseType","message":"Database: jdbc:postgresql://localhost:5432/unza_counseling_db (PostgreSQL 17.7)"}
{"@timestamp":"2026-02-19T07:54:00.784195621+02:00","level":"WARN","logger_name":"org.flywaydb.core.internal.database.base.Database","message":"Flyway upgrade recommended: PostgreSQL 17.7 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15."}
{"@timestamp":"2026-02-19T07:54:00.884611421+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Current version of schema \"public\": 2026.02.18"}
{"@timestamp":"2026-02-19T07:54:00.885947464+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Schema \"public\" is up to date. No migration necessary."}
{"@timestamp":"2026-02-19T07:54:01.034205429+02:00","level":"INFO","logger_name":"org.hibernate.jpa.internal.util.LogHelper","message":"HHH000204: Processing PersistenceUnitInfo [name: default]"}
{"@timestamp":"2026-02-19T07:54:01.104637545+02:00","level":"INFO","logger_name":"org.hibernate.Version","message":"HHH000412: Hibernate ORM core version 6.2.13.Final"}
{"@timestamp":"2026-02-19T07:54:01.107744686+02:00","level":"INFO","logger_name":"org.hibernate.cfg.Environment","message":"HHH000406: Using bytecode reflection optimizer"}
{"@timestamp":"2026-02-19T07:54:01.387464086+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer"}
{"@timestamp":"2026-02-19T07:54:01.461464149+02:00","level":"WARN","logger_name":"org.hibernate.orm.deprecation","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)"}
{"@timestamp":"2026-02-19T07:54:01.71177833+02:00","level":"WARN","logger_name":"org.hibernate.boot.model.internal.EntityBinder","message":"HHH000139: Illegal use of @Table in a subclass of a SINGLE_TABLE hierarchy: zm.unza.counseling.entity.Client"}
{"@timestamp":"2026-02-19T07:54:02.882420679+02:00","level":"INFO","logger_name":"org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard","message":"HHH000182: No default (no-argument) constructor for class: zm.unza.counseling.entity.UserConsent (class must be instantiated by Interceptor)"}
{"@timestamp":"2026-02-19T07:54:03.365243352+02:00","level":"INFO","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)"}
{"@timestamp":"2026-02-19T07:54:03.369506503+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'"}
{"@timestamp":"2026-02-19T07:54:03.791318675+02:00","level":"INFO","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","message":"Hibernate is in classpath; If applicable, HQL parser will be used."}
{"@timestamp":"2026-02-19T07:54:04.580016366+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use"}
{"@timestamp":"2026-02-19T07:54:04.581300893+02:00","level":"DEBUG","logger_name":"org.springframework.web.filter.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use"}
{"@timestamp":"2026-02-19T07:54:04.680071475+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS Security Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T07:54:04.681289039+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"Setting allowedOriginPatterns to: [http://localhost:3000, http://localhost:8081, http://localhost:4200]"}
{"@timestamp":"2026-02-19T07:54:05.76558551+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        User x */ select\n            count(*) \n        from\n            users u1_0"}
{"@timestamp":"2026-02-19T07:54:09.05473548+02:00","level":"INFO","logger_name":"zm.unza.counseling.service.impl.NotificationServiceImpl","message":"WebSocket messaging template available - real-time notifications enabled"}
{"@timestamp":"2026-02-19T07:54:09.447912054+02:00","level":"INFO","logger_name":"org.springframework.security.web.DefaultSecurityFilterChain","message":"Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10d63c34, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ab35ddf, org.springframework.security.web.context.SecurityContextHolderFilter@9b6f3e2, org.springframework.security.web.header.HeaderWriterFilter@efe6232, org.springframework.web.filter.CorsFilter@56307401, org.springframework.security.web.authentication.logout.LogoutFilter@5ee11261, zm.unza.counseling.security.JwtAuthenticationFilter@13ff5061, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b0458ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12630310, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c4de191, org.springframework.security.web.session.SessionManagementFilter@54b1bd57, org.springframework.security.web.access.ExceptionTranslationFilter@3564166c, org.springframework.security.web.access.intercept.AuthorizationFilter@2ebd9dbc]"}
{"@timestamp":"2026-02-19T07:54:09.533755593+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.server.support.WebSocketHandlerMapping","message":"Patterns [/ws/**] in 'stompWebSocketHandlerMapping'"}
{"@timestamp":"2026-02-19T07:54:09.625082378+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AcademicPerformanceController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.625648598+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AdminController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.625891105+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AnalyticsController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.626241456+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AppointmentController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.626430395+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AssessmentController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.626634148+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AuthController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.626826838+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.626960134+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseDocumentController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627188225+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ClientController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627404769+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ConsentFormController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627539338+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CounselorController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627692232+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.DashboardController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627863083+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.GoalController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.627968963+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.HealthController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.628133325+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MentalHealthAcademicAnalysisController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.628394452+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MessageController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.6285171+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.NotificationController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.628762904+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.PersonalDataFormController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.629042346+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ReportController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.629233797+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ResourceController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.629463791+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.RiskAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.629642121+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SelfAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.629781599+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SessionController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.630081541+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SettingsController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.63042225+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.UserController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.634960059+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.WebSocketEventController:\n\t{[MESSAGE],[/message.send/{recipientId}]}: sendMessage(Long,Map,Principal)\n\t{[MESSAGE],[/typing.start/{partnerId}]}: sendTypingIndicator(Long,Map,Principal)\n\t{[MESSAGE],[/typing.stop/{partnerId}]}: sendStopTypingIndicator(Long,Principal)\n\t{[MESSAGE],[/message.delivered/{messageId}]}: markMessageDelivered(Long,Map,Principal)\n\t{[MESSAGE],[/status.online]}: broadcastOnlineStatus(Principal)\n\t{[MESSAGE],[/status.offline]}: broadcastOfflineStatus(Principal)"}
{"@timestamp":"2026-02-19T07:54:09.639481607+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.b.a.w.s.e.BasicErrorController:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.645746468+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.a.OpenApiWebMvcResource:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.646097243+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerWelcomeWebMvc:\n\t"}
{"@timestamp":"2026-02-19T07:54:09.646387521+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerConfigResource:\n\t"}
{"@timestamp":"2026-02-19T07:54:10.375487402+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T07:54:10.452708943+02:00","level":"INFO","logger_name":"org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping","message":"Adding welcome page: ServletContext resource [/index.html]"}
{"@timestamp":"2026-02-19T07:54:10.460911974+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS WebMvc Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T07:54:10.591674879+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"289 mappings in 'requestMappingHandlerMapping'"}
{"@timestamp":"2026-02-19T07:54:10.681092334+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'"}
{"@timestamp":"2026-02-19T07:54:10.710877149+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 3 @ExceptionHandler, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T07:54:12.343640682+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Using default implementation for ThreadExecutor"}
{"@timestamp":"2026-02-19T07:54:12.356114668+02:00","level":"INFO","logger_name":"org.quartz.core.SchedulerSignalerImpl","message":"Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl"}
{"@timestamp":"2026-02-19T07:54:12.356245018+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Quartz Scheduler v.2.3.2 created."}
{"@timestamp":"2026-02-19T07:54:12.357059291+02:00","level":"INFO","logger_name":"org.quartz.simpl.RAMJobStore","message":"RAMJobStore initialized."}
{"@timestamp":"2026-02-19T07:54:12.357704987+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n"}
{"@timestamp":"2026-02-19T07:54:12.357846081+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance."}
{"@timestamp":"2026-02-19T07:54:12.357896889+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler version: 2.3.2"}
{"@timestamp":"2026-02-19T07:54:12.358005894+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@37c4e1a"}
{"@timestamp":"2026-02-19T07:54:12.996658646+02:00","level":"INFO","logger_name":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","message":"Exposing 6 endpoint(s) beneath base path '/actuator'"}
{"@timestamp":"2026-02-19T07:54:13.167514263+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat started on port(s): 8080 (http) with context path '/api'"}
{"@timestamp":"2026-02-19T07:54:13.176366854+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T07:54:13.17684267+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T07:54:13.177296756+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Starting..."}
{"@timestamp":"2026-02-19T07:54:13.177617722+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]"}
{"@timestamp":"2026-02-19T07:54:13.177746107+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]"}
{"@timestamp":"2026-02-19T07:54:13.178259273+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]]"}
{"@timestamp":"2026-02-19T07:54:13.178980572+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Started."}
{"@timestamp":"2026-02-19T07:54:13.179500211+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T07:54:13.179808037+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T07:54:13.180023455+02:00","level":"INFO","logger_name":"org.springframework.scheduling.quartz.SchedulerFactoryBean","message":"Starting Quartz Scheduler now"}
{"@timestamp":"2026-02-19T07:54:13.180219953+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED started."}
{"@timestamp":"2026-02-19T07:54:13.229457791+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Started CounselingManagementApplication in 19.09 seconds (process running for 19.745)"}
{"@timestamp":"2026-02-19T07:54:13.438270466+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T07:54:13.460734607+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:13.465977266+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T07:54:13.46823044+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:13.474825452+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:13.481016915+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:13.486314206+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:13.639079804+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:13.645417559+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:13.649120309+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:30.27998627+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T07:54:30.280350375+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Initializing Servlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T07:54:30.28058513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected StandardServletMultipartResolver"}
{"@timestamp":"2026-02-19T07:54:30.280693478+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected AcceptHeaderLocaleResolver"}
{"@timestamp":"2026-02-19T07:54:30.280771166+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected FixedThemeResolver"}
{"@timestamp":"2026-02-19T07:54:30.28472818+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@610399d4"}
{"@timestamp":"2026-02-19T07:54:30.287209716+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.support.SessionFlashMapManager@251c131e"}
{"@timestamp":"2026-02-19T07:54:30.287641002+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data"}
{"@timestamp":"2026-02-19T07:54:30.287903314+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed initialization in 7 ms"}
{"@timestamp":"2026-02-19T07:54:30.312446019+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /auth/login"}
{"@timestamp":"2026-02-19T07:54:30.363645412+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /auth/login"}
{"@timestamp":"2026-02-19T07:54:30.368258898+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/auth/login"}
{"@timestamp":"2026-02-19T07:54:30.368458479+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"No Bearer token found for request: /api/auth/login"}
{"@timestamp":"2026-02-19T07:54:30.37298029+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:30.379426978+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /auth/login"}
{"@timestamp":"2026-02-19T07:54:30.381626665+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/auth/login\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:30.390784513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AuthController#login(LoginRequest)"}
{"@timestamp":"2026-02-19T07:54:30.475913747+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor","message":"Read \"application/json;charset=UTF-8\" to [LoginRequest(identifier=counselor1@unza.zm, password=11111111)]"}
{"@timestamp":"2026-02-19T07:54:30.509703195+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:30.513009924+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:30.515181366+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:30.652971852+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:30.769649608+02:00","level":"DEBUG","logger_name":"org.springframework.security.authentication.dao.DaoAuthenticationProvider","message":"Authenticated user"}
{"@timestamp":"2026-02-19T07:54:30.777454909+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        u \n    FROM\n        User u \n    LEFT JOIN\n        \n    FETCH\n        u.roles \n    WHERE\n        u.email = :email */ select\n            u1_0.id,\n            u1_0.user_type,\n            u1_0.is_active,\n            u1_0.authentication_source,\n            u1_0.available_for_appointments,\n            u1_0.bio,\n            u1_0.created_at,\n            u1_0.date_of_birth,\n            u1_0.department,\n            u1_0.email,\n            u1_0.email_verified,\n            u1_0.first_name,\n            u1_0.gender,\n            u1_0.has_signed_consent,\n            u1_0.last_login_at,\n            u1_0.last_name,\n            u1_0.license_number,\n            u1_0.password,\n            u1_0.phone_number,\n            u1_0.profile_picture,\n            u1_0.program,\n            u1_0.qualifications,\n            u1_0.reset_password_expiry,\n            u1_0.reset_password_token,\n            r1_0.user_id,\n            r1_1.id,\n            r1_1.description,\n            r1_1.name,\n            u1_0.specialization,\n            u1_0.student_id,\n            u1_0.updated_at,\n            u1_0.username,\n            u1_0.year_of_study,\n            u1_0.years_of_experience,\n            u1_0.admin_level,\n            u1_0.department_managed,\n            u1_0.client_status,\n            u1_0.consent_to_treatment,\n            u1_0.counseling_history,\n            u1_0.emergency_contact_name,\n            u1_0.emergency_contact_phone,\n            u1_0.emergency_contact_relationship,\n            u1_0.faculty,\n            u1_0.gpa,\n            u1_0.last_session_date,\n            u1_0.medical_history,\n            u1_0.notes,\n            u1_0.programme,\n            u1_0.referral_source,\n            u1_0.registration_date,\n            u1_0.risk_level,\n            u1_0.risk_score,\n            u1_0.total_sessions,\n            u1_0.available,\n            u1_0.office_location \n        from\n            users u1_0 \n        left join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:30.784544676+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:30.794791204+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:30.817864293+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:30.818127335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:30.8915283+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* update\n        for zm.unza.counseling.entity.Counselor */update users \n    set\n        is_active=?,\n        authentication_source=?,\n        available_for_appointments=?,\n        bio=?,\n        date_of_birth=?,\n        department=?,\n        email=?,\n        email_verified=?,\n        first_name=?,\n        gender=?,\n        has_signed_consent=?,\n        last_login_at=?,\n        last_name=?,\n        license_number=?,\n        password=?,\n        phone_number=?,\n        profile_picture=?,\n        program=?,\n        qualifications=?,\n        reset_password_expiry=?,\n        reset_password_token=?,\n        specialization=?,\n        student_id=?,\n        updated_at=?,\n        username=?,\n        year_of_study=?,\n        years_of_experience=?,\n        available=?,\n        office_location=? \n    where\n        id=?"}
{"@timestamp":"2026-02-19T07:54:30.919861908+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:30.924466731+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vuc2Vsb3IxQHVuemEuem0iLCJpYXQiOjE3NzE0ODA0NzAs (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:30.956844938+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.302533487+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.307638749+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.308147818+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.309145178+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.312380516+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.314192706+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.314340966+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.314882563+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.321131761+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.322249229+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.325016313+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.330117545+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.332843686+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.335887942+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.335951518+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.338371604+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.336411598+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.340004104+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.339797209+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.340214828+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.34024214+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.340335527+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.341697123+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.341942682+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.342170857+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.341679964+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.342613754+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.342739521+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.369557491+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.36893085+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.369686522+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.372778709+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.374035437+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.377410599+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.376981783+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.382295818+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.383038684+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.386166963+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.389653923+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.386174117+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.39657427+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.400050216+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.404186281+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.404283548+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.407833562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.408133729+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.408672578+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.40996334+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.410301084+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.412992677+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.413032509+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.413231714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.413327591+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.414335664+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.414955275+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.415068353+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.416811415+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.421939304+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.421202865+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.422789967+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.422517189+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.425215567+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.425480274+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.418447592+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.425862512+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.426486882+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.426890844+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.427063536+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.427358529+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.427577499+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.428638005+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.42889979+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.431195101+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.431448527+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.436017906+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.434347812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.436638042+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.437860588+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.441628164+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T07:54:31.441724305+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.442381577+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T07:54:31.442929395+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.437951851+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.439637607+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T07:54:31.443677403+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.443906525+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.444045736+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.445017917+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.445220033+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.445987988+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T07:54:31.446481161+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.441008036+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T07:54:31.454261095+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.463047514+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.477748003+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.477737887+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.477942198+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.477959387+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.477807725+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T07:54:31.483332108+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.483509705+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.484199054+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T07:54:31.48754513+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.48957675+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.491405982+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T07:54:31.491890041+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.495572468+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T07:54:31.495769322+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T07:54:31.496338523+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T07:54:31.503906121+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.506555827+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.507233538+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.508002346+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.508808947+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.509017553+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.510176609+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.51143278+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.511829189+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.515372709+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.515691084+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.516899074+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.517038301+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.517144971+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.521128272+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.527674178+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.527699259+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.528727577+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.531305536+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.531465419+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.531599008+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.532947807+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.533663983+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.536337057+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.53648342+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.536941286+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.537235609+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:31.537360529+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.538443768+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.538577574+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.538699614+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.538958233+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T07:54:31.53969242+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.539951869+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.54142404+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.542786128+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.544359243+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.544868833+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.546718442+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.546939568+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.548948202+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.545138307+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.550236939+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.552247695+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.553295423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:31.553425692+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.553680597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.5537623+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.554424381+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T07:54:31.555030807+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.555430997+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.555477174+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.555577985+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.555833731+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.556026441+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.556137472+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T07:54:31.556963613+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T07:54:31.557324891+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.557748405+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.558223016+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T07:54:31.558640688+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.558961415+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.55921672+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.56087599+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.559237205+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.561773121+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.562262131+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.564994191+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.565272911+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.567021978+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.567969746+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.571244307+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T07:54:31.574110198+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T07:54:31.574979241+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.575148691+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.576503464+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.579732085+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.579881231+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:31.580008818+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.580738045+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.581298249+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.583080179+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.583248764+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.58329344+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.583446912+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.583649054+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.583860295+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:31.578469851+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.590955336+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.591147424+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.591189143+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.592471497+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.594065385+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.595758396+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:31.597358528+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.60973426+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.609989926+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.610355626+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T07:54:31.610590234+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.6112028+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T07:54:31.611581479+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.614556493+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.615251007+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.617135192+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T07:54:31.617385789+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.618935301+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T07:54:31.620826997+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:31.623031368+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.623102779+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T07:54:31.623249968+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T07:54:31.623471691+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.624046827+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T07:54:31.624135614+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T07:54:31.624306714+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.628180014+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:31.629353815+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T07:54:31.636200139+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:31.636421736+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.638108195+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.640263259+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:31.643479831+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:31.643710923+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.645793129+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T07:54:31.646022587+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:31.647675851+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T07:54:31.649775233+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.653758583+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.660006347+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T07:54:31.663577763+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.666839755+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.667088672+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:31.668065328+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T07:54:31.674281932+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:31.674878737+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T07:54:31.681833475+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T07:54:31.691757063+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T07:54:31.699700201+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:31.699979295+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:31.705235188+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:39.02057752+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.023240065+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.026027446+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.029066108+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.029191951+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:39.029305537+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.032004162+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:39.036061333+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:39.03898963+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:39.040871132+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.046754078+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:39.046981802+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.050332396+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.053398863+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:39.053713689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.054669327+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.054884062+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/appointments/counselor/24\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:39.058572334+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AppointmentController#getAppointmentsByCounselor(Long, Pageable)"}
{"@timestamp":"2026-02-19T07:54:39.065435338+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.AppointmentController.getAppointmentsByCounselor(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.AppointmentController]"}
{"@timestamp":"2026-02-19T07:54:39.066404436+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.AppointmentController.getAppointmentsByCounselor(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.AppointmentController]"}
{"@timestamp":"2026-02-19T07:54:39.072955507+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T07:54:39.07650454+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.084450976+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=? \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:54:39.093353336+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T07:54:39.098098661+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.103932786+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:39.10435905+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.dto.Appoin (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:39.12090827+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:39.124771839+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.125881137+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.126029328+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:39.126165961+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.128092002+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:39.130761243+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:39.133581092+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:39.136387094+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.138909333+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:39.139151826+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.141848088+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:39.144204331+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:39.144429345+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.146310278+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /appointments/counselor/24"}
{"@timestamp":"2026-02-19T07:54:39.146574516+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/appointments/counselor/24\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:39.148903317+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AppointmentController#getAppointmentsByCounselor(Long, Pageable)"}
{"@timestamp":"2026-02-19T07:54:39.149721521+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.AppointmentController.getAppointmentsByCounselor(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.AppointmentController]"}
{"@timestamp":"2026-02-19T07:54:39.150261506+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.AppointmentController.getAppointmentsByCounselor(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.AppointmentController]"}
{"@timestamp":"2026-02-19T07:54:39.151636203+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T07:54:39.156100651+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.160731928+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=? \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:54:39.165557939+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T07:54:39.171294627+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:39.176598358+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:39.177136711+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.dto.Appoin (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:39.183712275+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:55.634549566+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.635653218+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.635765959+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.635824014+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.635867766+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.636819449+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.637484225+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.641290502+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.641502555+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.641606485+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.643281498+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.643443302+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.643595758+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.644136952+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.646171998+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.646615788+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.649057738+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.649240909+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.650367466+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.650827483+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.653180448+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.660016299+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.660525274+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.661234239+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.661771327+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.660031269+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.663152775+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.664177773+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.664278196+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.665562065+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.665923258+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.66772989+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.668083886+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.66847892+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.669864282+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.671463887+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.671474916+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.673804622+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.674631883+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.674862776+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.676763889+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.679070152+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.67966195+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.681605551+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.681900586+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.683100668+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.683396192+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.683449201+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.685100486+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.685337908+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.685379598+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.685577448+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.686104991+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.686293021+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.688686571+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.690060556+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.690284186+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.693033463+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.693033011+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.693032227+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.694000377+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.694108487+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.694360789+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.694361709+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.695020026+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.695196944+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.696617823+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.697186401+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.697743715+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.700556772+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.700623114+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.70084992+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T07:54:55.700977426+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.702597889+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.702849894+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.704433447+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.70444829+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.704652672+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.704656911+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.706981859+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.707225866+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.710992121+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.712103726+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.712264259+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.712421745+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.714601864+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.715323053+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.717339479+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.717505405+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.716002986+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.718733388+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.720143999+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.720839372+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /users"}
{"@timestamp":"2026-02-19T07:54:55.72010571+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.72116781+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.722615417+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.726342231+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.726995653+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.727543502+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.730043376+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.73021911+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T07:54:55.732285227+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.733166791+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T07:54:55.733221164+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.733253532+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.733345192+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.736777583+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.734196749+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.734634172+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.739019335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.739479199+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.739519639+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.74114879+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.742859064+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.742948463+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.739656682+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.743079556+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.744094961+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:54:55.74430192+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.744446413+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.746504825+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.747408459+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.748272394+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.748501956+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.748773683+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.749901792+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.749895695+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.750648652+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.750780261+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.751113433+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.751243503+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.751512141+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.751761179+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:54:55.751918279+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.752188946+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.75236372+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T07:54:55.752948828+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.753273557+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.753983474+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.754698351+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.754916519+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.755622309+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.756731775+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.757032354+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.757561283+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.758259751+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.759166549+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.759412709+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.759824105+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.759975838+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.760272191+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.761104486+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.761411423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.762411891+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.762610064+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.765980408+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.766150558+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.767214306+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:54:55.76775167+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.768028881+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.771695428+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:54:55.771849367+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.772159158+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T07:54:55.773002097+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T07:54:55.77313983+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:54:55.773291404+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.773367013+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:54:55.773986478+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T07:54:55.775663505+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:54:55.775762787+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:54:55.776484313+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:54:55.776701574+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:54:55.776709331+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.777651938+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:54:55.779037784+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.779319423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:54:55 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.781061238+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:54:55.782170471+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:54:55.782344341+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:54:55.790602549+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.793688525+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.795950337+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.798207109+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.800188778+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.802737103+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.806455431+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.806804958+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.817162496+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:54:55.830256361+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T07:54:55.831362754+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T07:54:55.831507509+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:54:55.831654665+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.833837026+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:54:55.836791297+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:54:55.839844139+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.841951013+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.845119383+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:54:55.84529419+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.847086526+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:54:55.848651093+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:54:55.848852658+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T07:54:55.850359569+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T07:54:55.850586672+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T07:54:55.851076151+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T07:54:55.851526346+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:54:55.852009487+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:54:55.854738416+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:54:55.863733159+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.86573919+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.866890177+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.868731714+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.870449575+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:54:55.873202958+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:54:55.875912012+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:54:55.876246337+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T07:54:55.879717422+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:55:00.112208222+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:00.11774735+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:00.11868503+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:00.118817951+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:00.11892844+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:00.120791279+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:00.12402813+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:00.127211198+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:00.12926414+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:00.131143907+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:00.131358463+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:00.133161411+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:00.135012671+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:00.135194669+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:00.135847568+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:00.136066957+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations/25\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:00.13920665+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:00.140945256+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:00.141259082+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:00.142188862+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:00.1427954+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:00.142966484+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:00.143745568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:00.144518114+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:00.144723361+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:00 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations/25}]"}
{"@timestamp":"2026-02-19T07:55:00.145596891+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:00.145756661+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:02.156341976+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:02.156989575+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:02.157071671+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:02.15714575+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:02.158703649+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:02.161267743+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:02.163403174+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:02.165082683+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:02.167136129+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:02.167370523+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:02.169700216+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:02.170907982+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:02.171074884+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:02.171618473+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:02.171793961+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations/25\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:02.174186825+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:02.175199579+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:02.17538356+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:02.176084097+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:02.176727522+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:02.176839163+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:02.177432869+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:02.177922688+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:02.178096768+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:02 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations/25}]"}
{"@timestamp":"2026-02-19T07:55:02.178873823+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:02.179012795+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:03.268461237+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:03.269153485+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:03.269209542+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:03.269293951+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:03.270422464+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:03.2725904+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:03.274113452+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:03.276160204+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:03.278223688+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:03.278417137+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:03.279823966+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:03.281440318+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:03.281639699+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:03.282304525+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations/25"}
{"@timestamp":"2026-02-19T07:55:03.282564106+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations/25\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:03.284679247+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:03.285388359+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:03.285572584+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:03.286131194+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:03.286559152+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:03.286663168+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:03.287138036+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:03.287811585+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:03.28799131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:03 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations/25}]"}
{"@timestamp":"2026-02-19T07:55:03.288867093+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:03.288988993+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:08.732030292+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/messages/send"}
{"@timestamp":"2026-02-19T07:55:08.736909053+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /v1/messages/send"}
{"@timestamp":"2026-02-19T07:55:08.737947369+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/v1/messages/send"}
{"@timestamp":"2026-02-19T07:55:08.738036689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:08.73817889+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.739478983+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:08.742995498+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:08.745366737+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:08.746662485+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:08.748231024+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:08.748431119+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.750085984+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.751468303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:08.751744534+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/send"}
{"@timestamp":"2026-02-19T07:55:08.752427382+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /v1/messages/send"}
{"@timestamp":"2026-02-19T07:55:08.752645477+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/v1/messages/send\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:08.754881461+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:08.7566912+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:08.7569804+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:08.758246997+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /error"}
{"@timestamp":"2026-02-19T07:55:08.759106316+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /error"}
{"@timestamp":"2026-02-19T07:55:08.759310827+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for POST \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:08.759858843+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:08.76043+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:08.76073687+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:08 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/send}]"}
{"@timestamp":"2026-02-19T07:55:08.761640875+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:08.761820275+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:08.76938423+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:55:08.770092767+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:55:08.770195477+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:08.770317885+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.772321904+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:08.776723162+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:08.779100089+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:08.78059215+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:08.782335494+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:08.782660364+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.784196181+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:08.78573027+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:08.785898642+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:55:08.786425032+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:55:08.786802097+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:08.789230351+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:08.790687169+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:08.790950339+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:08.792158788+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:08.792792594+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:08.792928463+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:08.793505193+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:08.794106411+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:08.794322533+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:08 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T07:55:08.795118866+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:08.795238213+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:09.592018813+02:00","level":"INFO","logger_name":"org.springframework.web.socket.config.WebSocketMessageBrokerStats","message":"WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 10, completed tasks = 0]"}
{"@timestamp":"2026-02-19T07:55:25.646402638+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:25.653478955+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:25.653880485+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:25.655447715+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:25.667814216+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:25.702611303+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:25.709135111+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:25.712628953+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:25.737813863+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:25.738022281+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:25.756345689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:25.758106859+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:25.758356372+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:25.773998712+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:25.781600458+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:25.813980141+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:25.816883223+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:25.817138358+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:25.826297381+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:25.826947369+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:25.827121248+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:25.831131815+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:25.839991633+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:25.844650522+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:55:25.922341112+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:25.924567848+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:55:55.69993842+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:55.707200005+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:55.707271935+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:55:55.708677761+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:55.717501236+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:55:55.743515188+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:55:55.747811462+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:55:55.749631193+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:55:55.756088318+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:55:55.756269819+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:55.757611706+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:55:55.758743526+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:55:55.759435366+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:55.761650164+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:55:55.763625009+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:55.772571172+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:55:55.775357644+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:55:55.777018502+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:55:55.778715338+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:55:55.7796607+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:55:55.780085285+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:55:55.781864299+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:55:55.788191775+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:55:55.78997983+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:55:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:55:55.791731658+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:55:55.792121753+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:56:26.429282076+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:26.493776846+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:26.494802735+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:56:26.5077279+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:26.581854935+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:56:26.944641543+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:56:26.97766022+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:56:26.980726178+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:56:26.993992517+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:56:26.994340485+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:26.995829466+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:26.997145756+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:56:26.998435456+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:27.003585289+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:27.007902417+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:56:27.019185815+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:56:27.025919878+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:56:27.02851898+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:56:27.034895568+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:56:27.035809796+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:56:27.03639573+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:56:27.039659291+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:56:27.050548547+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:56:27.053235348+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:56:27 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:56:27.072438743+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:56:27.076585105+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:56:55.646381848+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:55.6504615+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:55.650610331+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:56:55.650738751+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:55.664003354+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:56:55.721295326+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:56:55.825438319+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:56:55.85050626+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:56:55.859271984+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:56:55.85948405+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:55.864463249+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:56:55.868406258+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:56:55.868588054+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:55.869285446+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:56:55.869446292+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:56:55.883864294+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:56:55.889104874+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:56:55.8893393+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:56:55.894949769+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:56:55.898319719+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:56:55.898474888+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:56:55.899807695+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:56:55.901171599+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:56:55.901451426+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:56:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:56:55.916059799+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:56:55.916282636+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:57:25.636016326+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:25.646488031+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:25.646623971+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:57:25.647210135+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:25.658282274+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:57:25.688582445+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:57:25.706367809+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:57:25.710045052+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:57:25.712361413+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:57:25.712547382+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:25.717888656+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:25.72263576+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:57:25.723916049+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:25.725918905+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:25.727486992+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:57:25.735370134+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:57:25.737821929+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:57:25.739245792+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:57:25.740549632+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:57:25.744550476+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:57:25.746121733+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:57:25.747078576+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:57:25.751323265+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:57:25.753684987+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:57:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:57:25.762974488+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:57:25.763149389+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:57:55.634576155+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:55.638153047+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:55.638305612+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:57:55.638470305+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:55.642572912+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:57:55.656759867+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:57:55.67192039+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:57:55.677446473+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:57:55.683401006+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:57:55.683616562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:55.6868161+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:57:55.689184218+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:57:55.689690664+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:55.690434106+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:57:55.690846389+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:57:55.697576011+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:57:55.700162728+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:57:55.700694391+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:57:55.702001578+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:57:55.702981742+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:57:55.703131158+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:57:55.704196069+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:57:55.705365269+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:57:55.706079114+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:57:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:57:55.70912983+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:57:55.709304395+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:58:25.633729412+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:25.635784959+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:25.635863124+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:58:25.636070277+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:25.638781316+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:58:25.64347233+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:58:25.647433363+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:58:25.649058098+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:58:25.651201164+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:58:25.651355476+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:25.653050536+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:25.655841833+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:58:25.656024894+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:25.656576546+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:25.656735964+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:58:25.660787281+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:58:25.662534588+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:58:25.662866539+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:58:25.663880301+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:58:25.664409709+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:58:25.664555073+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:58:25.665271898+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:58:25.666156512+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:58:25.666375577+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:58:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:58:25.668195799+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:58:25.668351073+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:58:55.632932382+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:55.634652297+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:55.634742762+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:58:55.63488557+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:55.63744928+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:58:55.643391093+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:58:55.64629961+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:58:55.648161496+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:58:55.649371798+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:58:55.64951393+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:55.651995724+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:58:55.653901367+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:58:55.65403108+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:55.654437907+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:58:55.654582844+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:58:55.659479625+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:58:55.660763606+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:58:55.660964953+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:58:55.662259038+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:58:55.663315722+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:58:55.663558174+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:58:55.664563476+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:58:55.666320433+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:58:55.666563513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:58:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:58:55.668139525+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:58:55.668275926+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:25.632327509+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:25.634198051+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:25.634280283+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:25.63437843+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:25.636848657+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:25.64329937+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:25.652873217+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:25.657873402+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:25.660580483+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:25.660748439+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:25.663558599+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:25.6653444+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:25.665464829+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:25.666275479+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:25.666437421+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:25.671362933+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:25.672586285+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:25.672827986+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:25.67390017+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:25.674749436+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:25.674872692+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:25.675638809+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:25.676284725+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:25.676478676+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:25.678418923+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:25.678609507+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.404897143+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.416136948+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.417178773+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.419854334+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.421777353+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.423154648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.423964285+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.427742835+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.429984073+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.434665457+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.435307118+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.435687969+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.436233015+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.439344291+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.449305913+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.451088338+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.45322871+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.459771879+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.465419552+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.466472233+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.46615759+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.478832755+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.479271671+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.486635738+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.486609195+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.490588905+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.493320446+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.494892196+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.499035838+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.499339839+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.499815983+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.500066221+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.501805857+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.502697611+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.504367923+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.504988611+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.503346911+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.505182884+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.505704015+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.506392426+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.510647164+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.511213278+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.51418873+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.514854952+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.515050335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.515408943+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.517163645+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.518930235+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.519386974+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.520443068+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.52203157+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.522095615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.52284676+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.523041053+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.524294724+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.525925908+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.527180966+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:54.526627607+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.529333823+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.52982594+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.531173552+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.531245333+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.532258952+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.532518706+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:54.534751176+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.535670689+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.53585644+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.535998475+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.536312426+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.536488059+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.539119136+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.540156194+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.541563561+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.543663573+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.545246656+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.545937941+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T07:59:54.550876579+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.551277149+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.552797375+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.552981772+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.553855931+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.55588329+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.556018678+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.556021693+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.559111877+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.55926706+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.562184524+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.562409625+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.568029267+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.568535044+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.568766258+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.571167168+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.573320566+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.574758703+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.577296549+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.583396965+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.581176862+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.590375942+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.594393648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.598742503+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.615679789+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T07:59:54.610326533+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.617116094+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.618238147+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.621611657+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T07:59:54.622752386+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:54.62304126+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.62330192+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.6253926+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.623974699+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.629664217+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.630943582+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.625392659+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.632709587+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.635175735+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.635398334+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.633962518+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T07:59:54.635908476+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.639984956+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.642949439+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.643193132+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.643934516+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T07:59:54.64406763+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:54.644160113+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.647181464+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.647414795+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.650090484+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T07:59:54.65327358+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.660200591+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.662235894+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.662899297+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.664145116+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.664333875+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.664522973+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:54.666138798+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.666133489+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T07:59:54.666549539+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.667349651+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.668287316+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.668643535+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.669901516+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T07:59:54.670110392+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.670366632+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:54.670112481+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T07:59:54.672686424+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.673701961+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.674354926+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.675380296+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.675470399+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.677994439+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.678234242+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.676784017+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T07:59:54.678684744+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.681132535+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.681442993+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T07:59:54.683265606+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:54.683996558+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.687288117+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.687864711+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.68896582+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:54.689477093+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T07:59:54.689760131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.691889154+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T07:59:54.693973241+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.695448396+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:54.695676847+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T07:59:54.69767035+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T07:59:54.699119559+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:54.702676391+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 07:59:54 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:54.70530347+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T07:59:54.709981237+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T07:59:54.710179894+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T07:59:54.733864397+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:59:54.765703176+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:59:54.817635336+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:59:54.878355752+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.881125895+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.890580399+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.90270923+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.912464514+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:54.937516766+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:54.950659271+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:54.963771229+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:55.000137699+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T07:59:55.009488037+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T07:59:55.017672219+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T07:59:55.017819583+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T07:59:55.020177233+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:55.024968112+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T07:59:55.030274488+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T07:59:55.036414417+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:55.039246504+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:55.042216894+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T07:59:55.046169211+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:55.050872914+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T07:59:55.053441417+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T07:59:55.053679086+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T07:59:55.054751464+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T07:59:55.055568925+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T07:59:55.056220334+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T07:59:55.058690394+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:59:55.059309197+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T07:59:55.065974966+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T07:59:55.073125381+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:55.074789147+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:55.076267661+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:55.078003474+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:55.079755259+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T07:59:55.081747797+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T07:59:55.083960053+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T07:59:55.084267818+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T07:59:55.087083318+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:00:00.012701331+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.AppointmentReminderJob","message":"Starting appointment reminder check"}
{"@timestamp":"2026-02-19T08:00:00.012403359+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.RiskAssessmentAlertJob","message":"Starting high-risk assessment check"}
{"@timestamp":"2026-02-19T08:00:00.0125668+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.AppointmentReminderJob","message":"Starting daily appointment summary"}
{"@timestamp":"2026-02-19T08:00:00.018539968+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.AppointmentReminderJob","message":"Appointment reminders sent successfully"}
{"@timestamp":"2026-02-19T08:00:00.019312607+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.RiskAssessmentAlertJob","message":"High-risk assessment check completed"}
{"@timestamp":"2026-02-19T08:00:00.019095175+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.AppointmentReminderJob","message":"Daily appointment summary sent successfully"}
{"@timestamp":"2026-02-19T08:00:24.29527579+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:24.299397408+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:24.299697259+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:00:24.303106767+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:24.318482334+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:00:24.340441035+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:00:24.351956998+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:00:24.355519359+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:00:24.359771324+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:00:24.380367238+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:24.384910743+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:24.38974359+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:00:24.390198511+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:24.391434342+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:24.391668655+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:00:24.399518067+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:00:24.401722391+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:00:24.402934996+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:00:24.405861577+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:00:24.407449964+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:00:24.407875568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:00:24.408794355+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:00:24.409841591+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:00:24.410074091+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:00:24 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:00:24.411333622+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:00:24.411483428+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:00:54.330051588+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:54.336225846+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:54.340755387+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:00:54.341063811+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:54.346169557+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:00:54.356340531+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:00:54.359915163+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:00:54.361739807+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:00:54.364332064+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:00:54.36460344+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:54.369475547+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:00:54.375795559+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:00:54.376184917+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:54.383335826+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:00:54.383846224+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:00:54.392654841+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:00:54.39488212+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:00:54.395203166+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:00:54.39990181+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:00:54.403461673+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:00:54.404469652+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:00:54.409917835+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:00:54.411803948+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:00:54.412182217+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:00:54 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:00:54.417076869+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:00:54.417312877+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:01:24.786453235+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:24.944468782+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:24.947099671+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:01:24.96843731+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:25.182586148+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:01:25.59141703+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:01:25.700204473+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:01:25.71394451+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:01:25.75562073+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:01:25.756250089+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:25.759466844+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:25.763290928+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:01:25.767919396+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:25.787260995+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:25.795308708+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:01:25.849335003+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:01:25.881605877+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:01:25.892725516+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:01:25.920750359+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:01:25.927686873+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:01:25.933743568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:01:25.959656267+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:01:26.032693985+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:01:26.045079219+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:01:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:01:26.108778333+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:01:26.110197739+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:01:54.486573158+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:54.502105844+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:54.503281928+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:01:54.511819235+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:54.559610276+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:01:54.586511875+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:01:54.605076899+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:01:54.613923516+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:01:54.618447038+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:01:54.618962103+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:54.623106007+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:01:54.627345519+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:01:54.628926862+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:54.63217164+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:01:54.632785071+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:01:54.647110974+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:01:54.657055069+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:01:54.65836713+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:01:54.669898694+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:01:54.673037485+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:01:54.674855548+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:01:54.681847023+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:01:54.692892934+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:01:54.694438459+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:01:54 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:01:54.715928545+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:01:54.716115121+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:02:24.712426617+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:24.774327613+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:24.776848841+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:02:24.786603519+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:24.895761566+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:02:25.164587615+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:02:25.330972878+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:02:25.351310905+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:02:25.41859165+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:02:25.422751959+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:25.441110246+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:25.452276958+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:02:25.470762191+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:25.493894869+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:25.501113839+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:02:25.583757955+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:02:25.621535074+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:02:25.623566607+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:02:25.628573084+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:02:25.63739656+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:02:25.638208371+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:02:25.645642703+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:02:25.755539354+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:02:25.779300343+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:02:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:02:25.882584654+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:02:25.883978034+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:02:55.223514142+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:55.330377673+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:55.332669228+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:02:55.343838228+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:55.527218973+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:02:55.726885908+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:02:55.785810172+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:02:55.79473085+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:02:55.821562992+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:02:55.821837961+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:55.832584561+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:02:55.845645858+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:02:55.849791699+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:55.865061745+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:02:55.871291652+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:02:55.915103195+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:02:55.952456837+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:02:55.955026983+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:02:55.982243492+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:02:55.983283823+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:02:55.983803047+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:02:55.998835317+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:02:56.043560872+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:02:56.048311241+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:02:56 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:02:56.083597319+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:02:56.084121732+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:03:24.598518814+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:24.68020735+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:24.681812666+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:03:24.691592422+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:24.753286014+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:03:24.973908385+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:03:25.043477884+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:03:25.04802919+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:03:25.104651545+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:03:25.10490581+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:25.119135594+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:25.131978035+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:03:25.135439729+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:25.149310141+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:25.161714377+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:03:25.206016804+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:03:25.228566566+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:03:25.233547959+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:03:25.247723723+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:03:25.249391688+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:03:25.252611353+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:03:25.261100821+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:03:25.296968604+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:03:25.306734518+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:03:25 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:03:25.415423145+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:03:25.415980745+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:03:54.650869387+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:54.761935657+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:54.765562297+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:03:54.790350467+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:54.981990189+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:03:55.228153685+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:03:55.314687205+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:03:55.327836143+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:03:55.366695107+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:03:55.367157548+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:55.379986915+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:03:55.387734121+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:03:55.399325602+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:55.423909843+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:03:55.446169253+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:03:55.471102829+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:03:55.486262359+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:03:55.49356757+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:03:55.507176503+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:03:55.511461828+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:03:55.515579212+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:03:55.519003977+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:03:55.56675837+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:03:55.572201375+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:03:55 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:03:55.620984269+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:03:55.622101066+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:22.456542829+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:22.458434212+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:22.456584154+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:04:22.516277966+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:04:22.521405001+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:22.520593887+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:22.522010807+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:22.516521008+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:22.523356765+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:22.53222882+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.532626059+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.532756492+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.726624702+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:22.726778943+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:22.727021605+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:22.891828777+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:22.89160475+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:22.89367282+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:22.932132832+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:22.932724012+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:22.961349405+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:22.961973227+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:22.964839854+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:22.97306553+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:22.981963808+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:22.982379321+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:22.983004562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:22.984588084+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.98516601+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.986632362+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.991672998+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.993114899+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:22.997279185+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:23.002244648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:23.002180173+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:23.006697597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:23.006566307+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:23.007717339+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:23.008626242+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:04:23.01110262+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:23.014910022+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:04:23.015244356+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:23.01701116+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.019522619+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.017087815+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.051783574+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:23.052038865+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:23.051484398+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:23.069455325+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:23.069662689+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:23.071008218+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:23.073103726+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:23.074737466+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:23.07560549+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:23.078016872+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:23.082575633+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:23.082814821+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.078087306+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:23.085177631+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:23.084841342+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:23.085793008+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:23.085925818+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.087393396+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:23.093637846+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:23.093916374+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.096964953+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:23.126513176+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:23.127048672+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:23.12719947+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:23.148978319+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:23 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:23.149233469+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:23 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T08:04:23.149545297+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:23 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:23.185225656+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:23.185853684+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:23.18785444+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:23.188019257+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:23.191392236+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:23.191598538+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:23.355019802+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T08:04:23.361680797+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T08:04:23.36329919+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:23.363462024+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:23.386429547+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:23.631338761+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:23.678095809+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:23.694058982+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:23.700848369+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:23.701071937+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:23.712546989+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:23.724866629+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:23.725702344+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T08:04:23.730526989+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T08:04:23.730853768+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:23.736927057+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T08:04:23.808590658+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:04:23.865236302+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:04:23.994559183+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T08:04:24.080264975+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:24.082920914+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:24.084139712+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:24.085944298+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:24.106262706+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:24.114524345+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:24.131275729+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:24.143170807+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:24.194688128+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:04:48.269248921+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:04:48.269737858+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:48.278004088+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:48.299757846+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:48.299916503+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:48.301829448+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:04:48.301959472+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:48.305178128+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:48.305303792+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:48.309485812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.309921769+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.310023021+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.379652488+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:48.380010895+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:48.389835293+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:48.502908248+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:48.506478105+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:48.511040648+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:48.566863147+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:48.569294735+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:48.576186494+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:48.584349474+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:48.585270945+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:48.598157881+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:48.598760034+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:48.602376327+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:48.609808278+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:48.621724582+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.623496632+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.623860303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.641799018+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.653471859+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.659009631+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:48.659158327+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:48.662686805+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:48.680173289+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:48.680378367+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:48.685527254+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:48.685738612+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:04:48.691295172+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:04:48.691625131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.693111147+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:04:48.69331311+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.699198252+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:04:48.720684408+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.799049437+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:48.802232612+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:48.818809208+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:48.819762163+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:48.824460255+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:04:48.825007582+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:48.825329878+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:48.826163256+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:48.82908696+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:48.831253527+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:48.831960713+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.84083732+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:48.841082221+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.841606445+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:48.847076882+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:48.848209222+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:48.849744708+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:48 CAT 2026, status=404, error=Not Found, path=/api/v1/conversations}]"}
{"@timestamp":"2026-02-19T08:04:48.852354709+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:04:48.852626632+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:04:48.851166845+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:48.852919833+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:48 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:48.857191317+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:04:48.867211029+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:04:48.867421518+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:48.86966186+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:48.87033482+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:48.871795183+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:48.871946855+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:48.873545623+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:04:48.875704823+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:48.881503387+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:04:48 CAT 2026, status=404, error=Not Found, path=/api/v1/contacts/availabl (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:48.906611274+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:04:48.90776718+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:04:50.871209987+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users"}
{"@timestamp":"2026-02-19T08:04:50.910977098+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T08:04:50.912016748+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:04:50.934897717+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:51.02721941+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:04:51.162836688+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:04:51.267997738+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:51.303944599+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:51.342420348+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:04:51.352715561+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:51.400216575+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:04:51.410107663+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:04:51.410332921+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T08:04:51.424903979+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users"}
{"@timestamp":"2026-02-19T08:04:51.425323067+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users\", parameters={}"}
{"@timestamp":"2026-02-19T08:04:51.429311057+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T08:04:51.438286397+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:04:51.443095226+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:04:51.502093799+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T08:04:51.606653167+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:51.616219078+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:51.618478985+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:51.620704953+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:51.622874018+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:04:51.624344221+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:04:51.631540614+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:04:51.646698845+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T08:04:51.693476839+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:05:18.406805548+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:05:18.469664407+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:05:18.472383888+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:05:18.482777369+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:05:18.554541093+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:05:18.695466103+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:05:18.747339441+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:05:18.760465079+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:05:18.789000575+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:05:18.789304434+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:05:18.796209124+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:05:18.812519302+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:05:18.81785607+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:05:18.861128644+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:05:18.867468251+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:05:18.951786921+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]"}
{"@timestamp":"2026-02-19T08:05:18.972118775+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.resource.ResourceHttpRequestHandler","message":"Resource not found"}
{"@timestamp":"2026-02-19T08:05:18.973639762+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 404 NOT_FOUND"}
{"@timestamp":"2026-02-19T08:05:18.981925074+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /error"}
{"@timestamp":"2026-02-19T08:05:18.985041261+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /error"}
{"@timestamp":"2026-02-19T08:05:18.987755432+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"\"ERROR\" dispatch for GET \"/api/error\", parameters={}"}
{"@timestamp":"2026-02-19T08:05:18.991998284+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)"}
{"@timestamp":"2026-02-19T08:05:19.031556255+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:05:19.039560586+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{timestamp=Thu Feb 19 08:05:19 CAT 2026, status=404, error=Not Found, path=/api/v1/messages/unread-c (truncated)...]"}
{"@timestamp":"2026-02-19T08:05:19.258825412+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Exiting from \"ERROR\" dispatch, status 404"}
{"@timestamp":"2026-02-19T08:05:19.26311347+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:07:10.650641529+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T08:07:10.676215197+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T08:07:10.679272687+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopping..."}
{"@timestamp":"2026-02-19T08:07:10.681733479+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]]"}
{"@timestamp":"2026-02-19T08:07:10.682183957+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]"}
{"@timestamp":"2026-02-19T08:07:10.682469667+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1be0b04e]"}
{"@timestamp":"2026-02-19T08:07:10.682884516+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopped."}
{"@timestamp":"2026-02-19T08:07:10.683416944+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:07:10.683457655+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:07:10.685922176+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED paused."}
{"@timestamp":"2026-02-19T08:16:33.424555058+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Starting CounselingManagementApplication using Java 21.0.10 with PID 839365 (/home/dev/Public/unza-projects/counseling/unza-counseling-bakend/target/classes started by dev in /home/dev/Public/unza-projects/counseling/unza-counseling-bakend)"}
{"@timestamp":"2026-02-19T08:16:33.432387854+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Running with Spring Boot v3.1.5, Spring v6.0.13"}
{"@timestamp":"2026-02-19T08:16:33.433083321+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"The following 1 profile is active: \"development\""}
{"@timestamp":"2026-02-19T08:16:35.126310175+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:16:35.128930496+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:16:35.173535566+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.174830393+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.178291394+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.179359873+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.180567718+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.181890686+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.182997575+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.183776107+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.184587173+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.185655977+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.186765303+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.187746224+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.188839059+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.190177578+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.191948105+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.193643706+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.195177763+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.196292526+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.197596822+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.199192914+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.200439442+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.201355201+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.202181168+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.204014725+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.205336615+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.206595659+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.207684873+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.208631531+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 74 ms. Found 0 Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T08:16:35.214166759+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:16:35.214732043+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:16:35.227237336+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.227559914+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.227833246+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.228105526+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.22841126+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.228729517+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.229000198+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.229250366+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.229516164+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.229780555+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.230038814+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.230316195+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.230588767+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.230840543+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.231133201+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.231442048+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.231689959+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.231930347+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.232169218+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.232424204+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.232715188+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.233015517+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.233334107+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.233681873+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.2340666+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.234389526+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.234717611+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:16:35.234897845+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 20 ms. Found 0 Reactive Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T08:16:35.246481175+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:16:35.247589119+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:16:35.424910148+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 173 ms. Found 27 JPA repository interfaces."}
{"@timestamp":"2026-02-19T08:16:35.440917526+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:16:35.442385185+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:16:35.463418379+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.463827805+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.464132806+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.46442007+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.464687302+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.464963712+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.465252899+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.465487982+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.465740915+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.465957514+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.466212992+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.466500183+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.466731903+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.46700407+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.467233876+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.467461218+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.467712404+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.46794311+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.468183499+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.468466202+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.468711403+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.468915227+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.469140758+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.469401125+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.469630676+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.469883284+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.470121792+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:16:35.470280713+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces."}
{"@timestamp":"2026-02-19T08:16:35.94544282+02:00","level":"INFO","logger_name":"org.springframework.cloud.context.scope.GenericScope","message":"BeanFactory id=89d6d460-efe7-3a4a-a8ea-feb593ed1921"}
{"@timestamp":"2026-02-19T08:16:36.105946848+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'enterpriseValidationConfig' of type [zm.unza.counseling.validation.EnterpriseValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T08:16:36.127579821+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'validator' of type [org.hibernate.validator.internal.engine.ValidatorImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T08:16:36.796472334+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat initialized with port(s): 8080 (http)"}
{"@timestamp":"2026-02-19T08:16:36.805952427+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardService","message":"Starting service [Tomcat]"}
{"@timestamp":"2026-02-19T08:16:36.806289671+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.15]"}
{"@timestamp":"2026-02-19T08:16:36.91567874+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring embedded WebApplicationContext"}
{"@timestamp":"2026-02-19T08:16:36.915986897+02:00","level":"INFO","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 3429 ms"}
{"@timestamp":"2026-02-19T08:16:37.409990268+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"Flyway Community Edition 9.16.3 by Redgate"}
{"@timestamp":"2026-02-19T08:16:37.410122249+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"See release notes here: https://rd.gt/416ObMi"}
{"@timestamp":"2026-02-19T08:16:37.410199787+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":""}
{"@timestamp":"2026-02-19T08:16:37.418802116+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Starting..."}
{"@timestamp":"2026-02-19T08:16:37.774714528+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69e736bf"}
{"@timestamp":"2026-02-19T08:16:37.775990434+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Start completed."}
{"@timestamp":"2026-02-19T08:16:37.798516315+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.database.base.BaseDatabaseType","message":"Database: jdbc:postgresql://localhost:5432/unza_counseling_db (PostgreSQL 17.7)"}
{"@timestamp":"2026-02-19T08:16:37.805384698+02:00","level":"WARN","logger_name":"org.flywaydb.core.internal.database.base.Database","message":"Flyway upgrade recommended: PostgreSQL 17.7 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15."}
{"@timestamp":"2026-02-19T08:16:37.888512773+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Current version of schema \"public\": 2026.02.18"}
{"@timestamp":"2026-02-19T08:16:37.889223895+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Schema \"public\" is up to date. No migration necessary."}
{"@timestamp":"2026-02-19T08:16:38.024688936+02:00","level":"INFO","logger_name":"org.hibernate.jpa.internal.util.LogHelper","message":"HHH000204: Processing PersistenceUnitInfo [name: default]"}
{"@timestamp":"2026-02-19T08:16:38.085170176+02:00","level":"INFO","logger_name":"org.hibernate.Version","message":"HHH000412: Hibernate ORM core version 6.2.13.Final"}
{"@timestamp":"2026-02-19T08:16:38.088376936+02:00","level":"INFO","logger_name":"org.hibernate.cfg.Environment","message":"HHH000406: Using bytecode reflection optimizer"}
{"@timestamp":"2026-02-19T08:16:38.355450812+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer"}
{"@timestamp":"2026-02-19T08:16:38.406563672+02:00","level":"WARN","logger_name":"org.hibernate.orm.deprecation","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)"}
{"@timestamp":"2026-02-19T08:16:38.623391725+02:00","level":"WARN","logger_name":"org.hibernate.boot.model.internal.EntityBinder","message":"HHH000139: Illegal use of @Table in a subclass of a SINGLE_TABLE hierarchy: zm.unza.counseling.entity.Client"}
{"@timestamp":"2026-02-19T08:16:39.571938181+02:00","level":"INFO","logger_name":"org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard","message":"HHH000182: No default (no-argument) constructor for class: zm.unza.counseling.entity.UserConsent (class must be instantiated by Interceptor)"}
{"@timestamp":"2026-02-19T08:16:39.870105652+02:00","level":"INFO","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)"}
{"@timestamp":"2026-02-19T08:16:39.872451292+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'"}
{"@timestamp":"2026-02-19T08:16:40.184018111+02:00","level":"INFO","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","message":"Hibernate is in classpath; If applicable, HQL parser will be used."}
{"@timestamp":"2026-02-19T08:16:40.93819977+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use"}
{"@timestamp":"2026-02-19T08:16:40.939361863+02:00","level":"DEBUG","logger_name":"org.springframework.web.filter.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use"}
{"@timestamp":"2026-02-19T08:16:41.041151235+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS Security Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T08:16:41.042605637+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"Setting allowedOriginPatterns to: [http://localhost:3000, http://localhost:8081, http://localhost:4200]"}
{"@timestamp":"2026-02-19T08:16:42.191958352+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        User x */ select\n            count(*) \n        from\n            users u1_0"}
{"@timestamp":"2026-02-19T08:16:45.362882915+02:00","level":"INFO","logger_name":"zm.unza.counseling.service.impl.NotificationServiceImpl","message":"WebSocket messaging template available - real-time notifications enabled"}
{"@timestamp":"2026-02-19T08:16:45.724163803+02:00","level":"INFO","logger_name":"org.springframework.security.web.DefaultSecurityFilterChain","message":"Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77f42b47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d041ce5, org.springframework.security.web.context.SecurityContextHolderFilter@51c69389, org.springframework.security.web.header.HeaderWriterFilter@2bfea127, org.springframework.web.filter.CorsFilter@65082fd9, org.springframework.security.web.authentication.logout.LogoutFilter@2157aa94, zm.unza.counseling.security.JwtAuthenticationFilter@6195f18e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3779d962, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c552b41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79a2c20e, org.springframework.security.web.session.SessionManagementFilter@1db5254d, org.springframework.security.web.access.ExceptionTranslationFilter@49266f15, org.springframework.security.web.access.intercept.AuthorizationFilter@66ffdce2]"}
{"@timestamp":"2026-02-19T08:16:45.821131131+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.server.support.WebSocketHandlerMapping","message":"Patterns [/ws/**] in 'stompWebSocketHandlerMapping'"}
{"@timestamp":"2026-02-19T08:16:45.929591512+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AcademicPerformanceController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.93005562+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AdminController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.930282637+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AnalyticsController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.93058603+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AppointmentController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.930744963+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.930936665+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AuthController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931105197+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931245948+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseDocumentController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931420005+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ClientController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931615679+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ConsentFormController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931809583+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CounselorController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.931973774+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.DashboardController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.932197137+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.GoalController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.932314561+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.HealthController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.932461235+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MentalHealthAcademicAnalysisController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.932709083+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MessageController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.932885679+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.NotificationController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933003522+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.PersonalDataFormController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933278079+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ReportController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933443183+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ResourceController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933663795+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.RiskAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933807059+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SelfAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.933948237+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SessionController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.934199858+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SettingsController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.934548677+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.UserController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.938821563+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.WebSocketEventController:\n\t{[MESSAGE],[/message.send/{recipientId}]}: sendMessage(Long,Map,Principal)\n\t{[MESSAGE],[/typing.start/{partnerId}]}: sendTypingIndicator(Long,Map,Principal)\n\t{[MESSAGE],[/typing.stop/{partnerId}]}: sendStopTypingIndicator(Long,Principal)\n\t{[MESSAGE],[/message.delivered/{messageId}]}: markMessageDelivered(Long,Map,Principal)\n\t{[MESSAGE],[/status.online]}: broadcastOnlineStatus(Principal)\n\t{[MESSAGE],[/status.offline]}: broadcastOfflineStatus(Principal)"}
{"@timestamp":"2026-02-19T08:16:45.943863933+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.b.a.w.s.e.BasicErrorController:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.951544258+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.a.OpenApiWebMvcResource:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.951865911+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerWelcomeWebMvc:\n\t"}
{"@timestamp":"2026-02-19T08:16:45.952073163+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerConfigResource:\n\t"}
{"@timestamp":"2026-02-19T08:16:46.784340945+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T08:16:46.836390391+02:00","level":"INFO","logger_name":"org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping","message":"Adding welcome page: ServletContext resource [/index.html]"}
{"@timestamp":"2026-02-19T08:16:46.841400208+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS WebMvc Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T08:16:47.004951515+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"289 mappings in 'requestMappingHandlerMapping'"}
{"@timestamp":"2026-02-19T08:16:47.119107719+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'"}
{"@timestamp":"2026-02-19T08:16:47.153294484+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 3 @ExceptionHandler, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T08:16:48.892180311+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Using default implementation for ThreadExecutor"}
{"@timestamp":"2026-02-19T08:16:48.902678297+02:00","level":"INFO","logger_name":"org.quartz.core.SchedulerSignalerImpl","message":"Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl"}
{"@timestamp":"2026-02-19T08:16:48.90281882+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Quartz Scheduler v.2.3.2 created."}
{"@timestamp":"2026-02-19T08:16:48.903431086+02:00","level":"INFO","logger_name":"org.quartz.simpl.RAMJobStore","message":"RAMJobStore initialized."}
{"@timestamp":"2026-02-19T08:16:48.904037971+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n"}
{"@timestamp":"2026-02-19T08:16:48.904165041+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance."}
{"@timestamp":"2026-02-19T08:16:48.904213059+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler version: 2.3.2"}
{"@timestamp":"2026-02-19T08:16:48.904298848+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3e3ba73b"}
{"@timestamp":"2026-02-19T08:16:49.430455401+02:00","level":"INFO","logger_name":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","message":"Exposing 6 endpoint(s) beneath base path '/actuator'"}
{"@timestamp":"2026-02-19T08:16:49.549688483+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat started on port(s): 8080 (http) with context path '/api'"}
{"@timestamp":"2026-02-19T08:16:49.555110348+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T08:16:49.555326586+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T08:16:49.555544742+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Starting..."}
{"@timestamp":"2026-02-19T08:16:49.555692741+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]"}
{"@timestamp":"2026-02-19T08:16:49.555760631+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]"}
{"@timestamp":"2026-02-19T08:16:49.556053187+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]]"}
{"@timestamp":"2026-02-19T08:16:49.556347947+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Started."}
{"@timestamp":"2026-02-19T08:16:49.556548796+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:16:49.556619321+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:16:49.556727954+02:00","level":"INFO","logger_name":"org.springframework.scheduling.quartz.SchedulerFactoryBean","message":"Starting Quartz Scheduler now"}
{"@timestamp":"2026-02-19T08:16:49.556857349+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED started."}
{"@timestamp":"2026-02-19T08:16:49.579093115+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Started CounselingManagementApplication in 17.082 seconds (process running for 17.558)"}
{"@timestamp":"2026-02-19T08:16:49.702240481+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T08:16:49.721539162+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:16:49.726716981+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T08:16:49.728319042+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:16:49.732858238+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:16:49.743753848+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:16:49.749687068+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:16:49.861988611+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:16:49.864978488+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:16:49.86676148+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:01.74777882+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T08:17:01.74846032+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Initializing Servlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T08:17:01.748792937+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected StandardServletMultipartResolver"}
{"@timestamp":"2026-02-19T08:17:01.748943385+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected AcceptHeaderLocaleResolver"}
{"@timestamp":"2026-02-19T08:17:01.749060155+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected FixedThemeResolver"}
{"@timestamp":"2026-02-19T08:17:01.753442876+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2fbe52ef"}
{"@timestamp":"2026-02-19T08:17:01.755324648+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f48e36e"}
{"@timestamp":"2026-02-19T08:17:01.755702438+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data"}
{"@timestamp":"2026-02-19T08:17:01.755887412+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed initialization in 7 ms"}
{"@timestamp":"2026-02-19T08:17:01.788423004+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:01.788639511+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:01.788649949+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:01.788698647+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:01.789175624+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:01.789324978+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:01.885575747+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:01.885634101+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:01.886202459+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:01.88559058+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:01.888331272+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:01.89016537+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:01.900345158+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:01.903437582+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:01.905589562+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:01.908046771+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:01.90809978+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:01.908408299+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:01.908544586+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:01.910705932+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:01.910863226+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:01.910250958+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:01.911033108+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:01.910721929+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:01.911464985+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:01.922299473+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:01.922290084+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:01.925606582+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:01.925838698+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:01.925961534+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.01332344+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.013329627+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.013550817+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.01332127+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.013321115+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.019828782+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.019833386+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.022389593+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.026084627+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.027683031+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.028678778+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.032426098+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.033738896+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.037214843+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.052024903+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.053231828+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.053231372+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.066614167+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.068320379+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.067454688+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.068623738+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.053441844+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.061514492+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.069950436+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.075572655+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.075840698+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.075860439+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.077839583+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.080239765+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.083211247+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.082370495+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.084404693+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.08775948+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.088871613+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.089996196+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.091075436+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.092005576+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.092314835+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.087133347+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.092628164+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.0940915+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.094558751+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.096295179+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.102868203+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.103151883+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.104032981+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.104243114+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.104338763+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.105771201+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.109283405+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.109348188+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.109665848+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.109896518+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.110173724+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.111987934+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.135983571+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:17:02.136095547+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:17:02.135983575+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:17:02.136399652+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:17:02.137041671+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:17:02.153267044+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.15361853+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.15584113+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.154024453+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.164952975+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.17377685+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.186019058+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:17:02.202442364+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.202686872+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.204089679+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.204206095+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.20439853+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.204259687+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.206396295+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.206652346+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.211798046+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:17:02.216303246+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:17:02.217316627+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:02.217709467+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:02.218676417+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:17:02.225656537+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.227693509+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.232450032+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.23676487+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:17:02.242988077+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.290588001+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.291932934+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.29193263+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.291941294+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.291977282+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.297215769+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.297215734+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.297218951+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.297252069+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:02.303912841+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:02.320857134+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.320859281+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.320857097+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.321545519+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.328515185+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.339624558+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.341877898+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.341986526+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.342224604+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.3433038+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.343469803+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.343630049+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:02.343693376+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.343775828+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.344095389+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:02.344226615+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.344629951+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.344750474+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:02.34487721+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.345684583+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.345948473+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:02.345973494+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.34610574+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.347314998+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.347387597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.347429291+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.347472974+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:02.347621192+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.347955915+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.349449118+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.351889463+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.352702808+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.353728519+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.354132957+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.35503805+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:02.35658365+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.358359088+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.359189201+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.359520396+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.360473767+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.361890064+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.362342492+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:02.363179646+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.364403409+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.364720828+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.365322835+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.35930315+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.365945724+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:02.366263532+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.367764155+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:17:02.368348527+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.368908405+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.369748751+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:02.368940304+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.370589683+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.370374031+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.37081239+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.370886949+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.371065233+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.371778742+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.372062318+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.374536825+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:17:02.375205234+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.375732441+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:02.376093844+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.37522468+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.37803884+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.378208588+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.378354429+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.378394009+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.379168757+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:02.379401738+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.380704562+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.380862399+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:02.380980509+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.381070552+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.38215998+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:17:02.382226475+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.382896809+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.383072939+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.383789611+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:02.384034746+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.384049792+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.384154572+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.384899371+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.379166449+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:02.387548006+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:17:02.388115592+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.388232896+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:02.388452614+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.388741423+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.388823866+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.388742274+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:17:02.389349585+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:17:02.389810967+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.390424917+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:02.390550443+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:17:02.390633228+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:02.391093565+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 08:54:30 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:02.3916004+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.392458871+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:02.392738064+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:02.393842957+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:17:02.395271421+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.395406212+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.395612514+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.396028674+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:17:02.396472795+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.396694332+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:02.397069006+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.397911716+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.401951161+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.407221958+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:17:02.411904475+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.41496562+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:02.421275761+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.430084979+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:02.430084821+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:02.436765409+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.437079192+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:02.439729941+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:17:02.440568539+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:02.44633968+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:02.446708167+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:02.449532725+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:05.462241815+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /auth/logout"}
{"@timestamp":"2026-02-19T08:17:05.466545211+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /auth/logout"}
{"@timestamp":"2026-02-19T08:17:05.467385472+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/auth/logout"}
{"@timestamp":"2026-02-19T08:17:05.467470811+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"No Bearer token found for request: /api/auth/logout"}
{"@timestamp":"2026-02-19T08:17:05.467804304+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:17:05.468626089+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /auth/logout"}
{"@timestamp":"2026-02-19T08:17:05.468820719+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/auth/logout\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:05.469085809+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AuthController#logout()"}
{"@timestamp":"2026-02-19T08:17:05.470619403+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:05.470926048+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{message=Logout successful}]"}
{"@timestamp":"2026-02-19T08:17:05.472137705+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:44.218942989+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /auth/login"}
{"@timestamp":"2026-02-19T08:17:44.250614977+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /auth/login"}
{"@timestamp":"2026-02-19T08:17:44.253842314+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/auth/login"}
{"@timestamp":"2026-02-19T08:17:44.254311318+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"No Bearer token found for request: /api/auth/login"}
{"@timestamp":"2026-02-19T08:17:44.255756342+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:17:44.257811823+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /auth/login"}
{"@timestamp":"2026-02-19T08:17:44.261636948+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/auth/login\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:44.269793552+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AuthController#login(LoginRequest)"}
{"@timestamp":"2026-02-19T08:17:44.766757479+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor","message":"Read \"application/json;charset=UTF-8\" to [LoginRequest(identifier=counselor1@unza.zm, password=11111111)]"}
{"@timestamp":"2026-02-19T08:17:45.072399795+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.090782376+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.093064604+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.222564419+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.318257115+02:00","level":"DEBUG","logger_name":"org.springframework.security.authentication.dao.DaoAuthenticationProvider","message":"Authenticated user"}
{"@timestamp":"2026-02-19T08:17:45.346410027+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        u \n    FROM\n        User u \n    LEFT JOIN\n        \n    FETCH\n        u.roles \n    WHERE\n        u.email = :email */ select\n            u1_0.id,\n            u1_0.user_type,\n            u1_0.is_active,\n            u1_0.authentication_source,\n            u1_0.available_for_appointments,\n            u1_0.bio,\n            u1_0.created_at,\n            u1_0.date_of_birth,\n            u1_0.department,\n            u1_0.email,\n            u1_0.email_verified,\n            u1_0.first_name,\n            u1_0.gender,\n            u1_0.has_signed_consent,\n            u1_0.last_login_at,\n            u1_0.last_name,\n            u1_0.license_number,\n            u1_0.password,\n            u1_0.phone_number,\n            u1_0.profile_picture,\n            u1_0.program,\n            u1_0.qualifications,\n            u1_0.reset_password_expiry,\n            u1_0.reset_password_token,\n            r1_0.user_id,\n            r1_1.id,\n            r1_1.description,\n            r1_1.name,\n            u1_0.specialization,\n            u1_0.student_id,\n            u1_0.updated_at,\n            u1_0.username,\n            u1_0.year_of_study,\n            u1_0.years_of_experience,\n            u1_0.admin_level,\n            u1_0.department_managed,\n            u1_0.client_status,\n            u1_0.consent_to_treatment,\n            u1_0.counseling_history,\n            u1_0.emergency_contact_name,\n            u1_0.emergency_contact_phone,\n            u1_0.emergency_contact_relationship,\n            u1_0.faculty,\n            u1_0.gpa,\n            u1_0.last_session_date,\n            u1_0.medical_history,\n            u1_0.notes,\n            u1_0.programme,\n            u1_0.referral_source,\n            u1_0.registration_date,\n            u1_0.risk_level,\n            u1_0.risk_score,\n            u1_0.total_sessions,\n            u1_0.available,\n            u1_0.office_location \n        from\n            users u1_0 \n        left join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.355443325+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.361664227+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.376888125+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.377049691+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.48178152+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* update\n        for zm.unza.counseling.entity.Counselor */update users \n    set\n        is_active=?,\n        authentication_source=?,\n        available_for_appointments=?,\n        bio=?,\n        date_of_birth=?,\n        department=?,\n        email=?,\n        email_verified=?,\n        first_name=?,\n        gender=?,\n        has_signed_consent=?,\n        last_login_at=?,\n        last_name=?,\n        license_number=?,\n        password=?,\n        phone_number=?,\n        profile_picture=?,\n        program=?,\n        qualifications=?,\n        reset_password_expiry=?,\n        reset_password_token=?,\n        specialization=?,\n        student_id=?,\n        updated_at=?,\n        username=?,\n        year_of_study=?,\n        years_of_experience=?,\n        available=?,\n        office_location=? \n    where\n        id=?"}
{"@timestamp":"2026-02-19T08:17:45.502015801+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.507081596+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vuc2Vsb3IxQHVuemEuem0iLCJpYXQiOjE3NzE0ODE4NjUs (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:45.528533456+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.664966351+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.66506196+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.665828612+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.665946541+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.666064544+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.666298977+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.666365537+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.666443416+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.667807602+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.667946053+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.668868215+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.668933661+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.668980416+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.669089689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.669569225+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.670035217+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.670371119+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.670434471+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.670519192+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.669592562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.670608307+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.670681767+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.671657276+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.673267876+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.674306638+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.67365882+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.674923406+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.677301295+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.678641803+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.679838629+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.680064862+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.680737386+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.681828744+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.682075125+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.682788757+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.683214323+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.68387898+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.683708016+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.686710071+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.684449249+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.686799229+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.685868043+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.689474446+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.689702648+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.689938351+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.690265286+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.690283949+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.691153802+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.691449243+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.691452991+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.691587609+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.691587581+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.691737564+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.692078092+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.692244197+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.692244467+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.692342403+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.692649653+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:17:45.6931005+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.693341491+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.693706114+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.694301171+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:17:45.693419427+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.694869575+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.6949871+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.695244559+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.695357305+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.693725743+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.695683183+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.696314565+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:17:45.696712106+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.696944185+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.696999692+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.697313297+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.69789357+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.697981754+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.6984514+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.698894038+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.698941303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.698984576+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:17:45.699614455+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.700392389+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.698662229+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.70176052+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.701935433+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:17:45.701930864+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:17:45.702443232+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.702632683+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.703114845+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:17:45.703280194+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.703418601+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.703778056+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.703777913+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.703959598+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.703853538+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.706519976+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.706516224+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:45.707386795+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.709541538+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.709846227+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.70998931+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.710090158+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.710407723+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:17:45.711306805+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.711318916+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.712846174+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:17:45.713318305+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.713617438+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.71387355+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.71494517+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.71682514+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.719793246+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.720686274+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.720722588+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.720922967+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:45.72102441+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.721410243+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.721482095+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.721592968+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.720703216+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.721996849+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:45.721678625+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.721821979+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.722165265+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.722214022+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.722332069+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.722455129+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.724322904+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.727031709+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.72438483+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.728740022+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.7276172+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.730419069+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:17:45.730961777+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.730995997+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.731726235+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.731366694+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.7321638+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.732319243+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.733125424+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.73347508+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:45.762161143+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.763007513+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.763179192+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.763262204+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.766278241+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.766306187+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.767333234+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.770633971+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.7719459+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.772028973+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.772132706+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.772463232+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.773204442+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.77344871+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.773555054+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:45.773578087+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.773619632+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.774198513+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.774305693+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.77709359+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.778488982+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.780333148+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.780555703+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.780713996+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.780532435+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.781691551+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.781773293+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:17:45.781880459+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.781966809+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.782062812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:45.782357351+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:17:45.782502484+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.782595467+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:17:45.782966576+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.783792548+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.783869069+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.785261687+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.785897047+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:17:45.786057773+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:45.785867341+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.787104559+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.786316639+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.787583234+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:17:45.787916847+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:17:45.78794661+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.788001223+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.788055052+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.788482829+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:17:45.78887097+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.788925286+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:45.788946252+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.78905058+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.789054274+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:17:45.789314566+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.78936238+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.789950072+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.790162099+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.790752944+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.790854637+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:45.792860239+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.793357772+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:45.793523112+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.794563692+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.794854701+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.795458133+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:45.795468938+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.795666277+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.796186472+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:45.796604689+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:17:45.79717747+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.79760278+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.797981155+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:45.798082511+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:17:45.798092694+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.798366059+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.798578933+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:17:45.798742948+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:45.799277048+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:17:45.800460481+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.800448672+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:17:45.800611693+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:17:45.80221486+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.802430303+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:17:45.803834366+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.805640098+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:17:45.809534203+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.816661911+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:17:45.818610452+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.821331793+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:17:45.828275751+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.833905948+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:17:45.83943766+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:17:45.843349692+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:17:45.846188377+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.846425943+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:45.846937213+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:45.847153501+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:17:45.849167582+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.849182333+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:45.895408604+02:00","level":"INFO","logger_name":"org.springframework.web.socket.config.WebSocketMessageBrokerStats","message":"WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 10, completed tasks = 0]"}
{"@timestamp":"2026-02-19T08:17:48.577370806+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.581292187+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.585866874+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.585866852+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.585891263+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.588604501+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.590741309+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.590741312+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.592071525+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.59320349+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.593562327+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.593480562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.593844365+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.593727923+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.596309803+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.601378473+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.602774148+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.603583232+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.60428973+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.604606945+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.604729215+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.605273731+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.606392454+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.607107697+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.607107231+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.608190403+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.608261217+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.608522734+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.609373+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.609467394+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.609891471+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.609990858+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.610293314+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.612832829+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.61296128+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.614910241+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.615138688+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.615268256+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.615345226+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.615480954+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.616137208+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.616137252+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.616619026+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.616619088+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.617480825+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.617480582+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.61793823+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.618344423+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.620072153+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.621942029+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.622107097+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.622528992+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.622660568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.623157314+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.624186794+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.624452021+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.625936983+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.626143614+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.626833972+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.627411044+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.627882056+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.628748229+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.630198868+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.634204768+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:17:48.635647182+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:17:48.639372593+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.639589151+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:48.641100174+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:17:48.641313705+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:48.643427284+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.643888358+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:17:48.643979314+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.64535615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:48.648902869+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.648998362+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.64908046+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.64939034+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.650131159+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.650221557+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.65033212+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.651043934+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.651969213+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.655469046+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.656101107+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.657852171+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:17:48.659021064+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.659021081+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.661367617+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.662943148+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.663059699+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.665174081+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.665630042+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.665746108+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.665946015+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.667605625+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.667655745+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.670267376+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.670516825+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:48.670900021+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.671151964+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.671629519+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.671964451+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.672954533+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:48.672944716+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:48.673184473+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.673311666+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.673214459+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:48.675054676+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.675570392+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.676048975+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.676391901+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.676662411+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:48.676750687+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.677637218+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.677725994+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.678314067+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:48.680537971+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.680537691+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.681610638+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.682054157+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.682054309+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.683866479+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:17:48.684564688+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:17:48.685700621+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.686383493+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.686616954+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:17:48.688148151+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:48.688201334+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.68877953+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.688920845+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:48.689652081+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:48.691121303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:48.692446998+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.696596858+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:48.698294879+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:48.698482465+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.69910637+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:48.699263913+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:48.699819784+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:48.702289251+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:48.704077046+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:48.705439489+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.7074397+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:17:48.71014065+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:17:48.713336197+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:48.715522196+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:48.715764141+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:48.716577876+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.802941181+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.803100043+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.803681906+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.803767817+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.803681872+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.803847195+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.803861088+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.803935383+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.804853629+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.80498173+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.804991537+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.805431983+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.805482443+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.80558464+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.806797341+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.806919662+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.808429529+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.808487294+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.808739008+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.80983246+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.809916298+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.809915596+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.811015787+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.811267654+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.811370875+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.811455953+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.812375126+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.812512016+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.812562523+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.812659656+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.813098099+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.813511823+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.813741508+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.814004044+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.814111597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.814550239+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.814677218+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.814727947+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.814789744+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.81519055+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.815200903+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.814438652+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.815363513+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.81542892+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.81578308+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.815824224+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.81605369+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.816959365+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.817148067+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.817454882+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.819270634+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.820095058+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.819439684+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.82213119+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.8228627+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.822906948+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.826519812+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.827090596+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:17:53.828895844+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:17:53.83008781+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:17:53.831927899+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:17:53.832994341+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.833004647+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.835848274+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:53.835893294+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:17:53.836898353+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.837121805+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.840095503+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.844471321+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.84495233+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.845079202+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.845208769+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:53.845210143+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.845270718+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.845352194+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.845524797+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.845583373+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.845650946+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.846852139+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.847054503+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.849385509+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.85125238+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.851531057+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.852175045+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.852265033+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:17:53.852338066+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.852437144+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.852899426+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.854845477+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.85507684+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.855848408+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:17:53.856891696+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.858483325+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.858729455+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.859310305+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:17:53.859474356+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.860020888+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.862460272+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.862473213+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.864504971+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.864597122+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.866136992+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.862460276+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.867213994+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.868909356+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:17:53.867905271+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.872202561+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.872387873+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.873249489+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.873439892+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:53.874309621+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.87506338+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.879298627+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.879334579+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:17:53.880127303+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.880957638+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.881097925+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.881458649+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:17:53.881533304+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:17:53.881665418+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.882014093+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.883133868+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:17:53.883307159+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.884387453+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.885240168+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:17:53.88550161+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:17:53.886122147+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:17:53.886927536+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.88873748+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:17:53.88935818+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.891162883+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:17:53.892353196+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:17:53.892441086+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.895746219+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.896224879+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:17:53.89592408+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:17:53.89906841+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:17:53.902066553+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:17:53.906049897+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:17:53.907783586+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:17:53.907968938+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:17:53.908502261+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:18:01.665756597+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.665747565+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.671887968+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.672663785+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.672769817+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.672892317+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.674158497+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.676470065+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.677932435+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.679128514+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.680537571+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.680699921+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.681915485+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.683017757+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.68316563+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.683577856+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.683747758+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.684135024+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:18:01.684568893+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.68573258+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.692762439+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:18:01.705702306+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:01.716050113+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.716347308+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:01.732928472+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.733618277+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.743846655+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.74408477+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@36ed7570]"}
{"@timestamp":"2026-02-19T08:18:01.745701838+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.745985038+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.747551096+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.748347253+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.748457275+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.748587862+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.750234031+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.753024154+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.754295836+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.75762174+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.759278422+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.759417851+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.760857234+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.76098714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.76129859+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.762115525+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.762224517+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.762768207+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.763253687+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.764310885+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.764431542+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.765093847+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.765237781+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:18:01.7654798+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.765994501+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:18:01.76638083+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.766825996+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.767033153+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.767866779+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:18:01.768689705+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.769831504+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.769974041+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.770165969+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:01.77295716+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.772975055+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.773100363+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:01.773866298+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.776685096+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.779427004+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.774408086+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.780132922+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.780129182+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.780277848+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.78029031+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@5ed8b41b]"}
{"@timestamp":"2026-02-19T08:18:01.780692292+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:18:01.781060262+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.781292352+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.792074574+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.78184764+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.795216263+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:18:01.804365312+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.804487682+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:18:01.805590842+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.805784841+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.813820835+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.813990063+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@4ecef5f]"}
{"@timestamp":"2026-02-19T08:18:01.815158722+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.81533564+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.819472415+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.820231603+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.820306849+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.820423329+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.822990111+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.825897811+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.826952621+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.829409022+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.830642871+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.832312668+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.832525039+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.83334111+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.834028852+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.834434917+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.834512686+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.83459736+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.83551161+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.835670155+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.835710065+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.836138385+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:18:01.836301512+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.836820744+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:18:01.837161051+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.837747586+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.839189378+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:18:01.840267207+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.841698504+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.84182163+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:18:01.841930793+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.843426713+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.844386421+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.843642427+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.84670753+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.850834273+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@590a5a36]"}
{"@timestamp":"2026-02-19T08:18:01.851988188+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.85338573+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.846804572+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.85502804+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.85682077+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.858456521+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.859016436+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.860794916+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.861232887+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.862214273+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:18:01.863280777+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.864389847+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.865663345+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:01.867128645+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.867246485+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:01.867796961+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.867940836+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.875831572+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.87602015+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@7e778855]"}
{"@timestamp":"2026-02-19T08:18:01.877360284+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.8775839+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.881552298+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.882800685+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.882888821+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.882991454+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.885727833+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.891604787+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.892535313+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.894312523+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.895742224+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.897734895+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.898032242+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.899812407+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.901429928+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.901701264+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.901829924+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.902164156+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.903051927+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.903394359+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.903868602+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:18:01.904083393+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.904639606+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:18:01.905013174+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.905435491+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.906886301+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:01.907023958+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.909237247+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.912410378+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.915346538+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.91548226+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:01.916413182+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.917346243+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.916674133+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.920880977+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.924385342+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.923578506+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.925748202+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.925978987+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@6d23908d]"}
{"@timestamp":"2026-02-19T08:18:01.93063659+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.929079631+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.933133381+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.933845964+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.935467737+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.936674564+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.938682456+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:18:01.939722355+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.941096836+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.942898007+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:01.951862453+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:01.952012067+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:01.953638616+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:01.954889104+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:01.960736985+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:01.962572175+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@5dde3667]"}
{"@timestamp":"2026-02-19T08:18:01.963722702+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:01.965552414+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:18:01.971806856+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.972537015+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.972615672+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:18:01.972707476+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.978571679+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:18:01.981067107+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:18:01.985951613+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:18:01.990716586+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:18:01.993288632+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:18:01.993460247+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.995291358+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:18:01.996870271+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:18:01.997143214+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.998296584+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:18:01.998563467+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:18:01.999051554+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:18:01.999370542+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:01.999813378+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:18:02.001357929+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:18:02.004923403+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:18:02.005015336+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:18:02.006311319+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:18:02.006472717+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:18:02.010630619+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:18:02.010846562+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@17a1e068]"}
{"@timestamp":"2026-02-19T08:18:02.012922673+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:18:02.013125374+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:30:00.34434173+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.RiskAssessmentAlertJob","message":"Executing RiskAssessmentAlertJob via Quartz"}
{"@timestamp":"2026-02-19T08:30:00.361579812+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.RiskAssessmentAlertJob","message":"Starting high-risk assessment check"}
{"@timestamp":"2026-02-19T08:30:00.363089254+02:00","level":"INFO","logger_name":"zm.unza.counseling.jobs.RiskAssessmentAlertJob","message":"High-risk assessment check completed"}
{"@timestamp":"2026-02-19T08:34:54.367539087+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:54.412650487+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:54.413609377+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:54.419599323+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:54.470190881+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:54.672911367+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:54.719837044+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:54.726069881+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:54.747665075+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:54.748025942+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:54.751749879+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:54.754315729+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:54.758250497+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:54.772989605+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:54.778398967+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:54.802313491+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:34:54.812786393+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:54.829139244+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:54.851248941+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:34:54.907154439+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:54.918794597+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:54.919142578+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:54.929956077+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:54.933008246+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:54.977546727+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:54.980771235+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@11cf5702]"}
{"@timestamp":"2026-02-19T08:34:55.016432247+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.016759797+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.030388915+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:55.043272666+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:55.043980439+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.044268724+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.05781354+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.090441104+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.09318097+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.096271774+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.099570892+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.104943482+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.11635308+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.134429311+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.147118407+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.155878627+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.161603194+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.162947633+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.174197615+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.191528771+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.193560286+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:55.193709598+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.202733309+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:34:55.203507034+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.204225664+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.214318623+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:34:55.218939599+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.219643339+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.227002937+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:34:55.229065983+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.229725907+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.242211006+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.245240377+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:55.25409577+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.254266982+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:55.256232195+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.256467056+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.25910816+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.260637175+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.264804913+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.267748897+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:34:55.278943484+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.282890673+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.259335743+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.2948234+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.295052294+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@7215ca8a]"}
{"@timestamp":"2026-02-19T08:34:55.296632111+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:34:55.304348275+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.304510553+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:34:55.307620814+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.310801048+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.31420867+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.314452806+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.344791717+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.345017125+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@3e262bcf]"}
{"@timestamp":"2026-02-19T08:34:55.362792516+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.363074423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.37696915+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.380886947+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.38243616+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.382608966+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.390767011+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.407548417+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.410016417+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.414571086+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.417018952+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.418076659+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.419607649+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.424822382+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.434903896+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.435196056+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.450739994+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.452281373+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.461658135+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.46257308+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.464389433+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.466790986+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.467018049+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.467815953+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:34:55.468027824+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.469089404+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:34:55.469554628+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.4703621+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.47025135+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.471283568+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.477782334+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.47765736+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:34:55.483961973+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.485029926+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.485984468+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.48667082+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:34:55.488013301+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.487783123+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.489566374+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.494082798+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:34:55.497197972+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.499917616+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.48940959+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.521128016+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.521373286+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@65850334]"}
{"@timestamp":"2026-02-19T08:34:55.521290021+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:55.525265986+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.52720279+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.527419489+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.527532374+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:55.529884393+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.530150177+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.548661095+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.548927777+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@1afb0b24]"}
{"@timestamp":"2026-02-19T08:34:55.558156028+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.560721841+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.567817163+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.574616379+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.574781299+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.574911265+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.583203653+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.58964703+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.591110306+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.59123556+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.591355775+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.595220322+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.595445454+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.603136551+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.605787856+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.606096292+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.60820589+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.610624313+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.610854893+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.611021918+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.613438535+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.613682254+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.614082433+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.617108143+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.619903692+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.620040243+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.620186133+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.620219142+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.620999688+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:34:55.621219007+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.623058483+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:34:55.623845466+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.623926658+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.624404777+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.625152667+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.631590951+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:34:55.634412234+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.634455345+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:55.636068077+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.639100882+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:55.651072333+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.651509243+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:55.652836356+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.656428146+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.656581407+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:55.658351615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.653378419+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.670344979+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.688506271+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@22ec5b53]"}
{"@timestamp":"2026-02-19T08:34:55.658642891+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.692371402+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.693894935+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@3e99d3c]"}
{"@timestamp":"2026-02-19T08:34:55.696468018+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.697187996+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.701751541+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.702041462+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:34:55.740751236+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.74627669+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.746956512+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:34:55.747334739+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.751714771+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:34:55.756816546+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:34:55.761206306+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:34:55.7641272+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:34:55.767749057+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:34:55.768036784+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.772138824+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:34:55.776698876+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:34:55.777310291+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.778520445+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:34:55.779211026+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:34:55.780346312+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:34:55.783965574+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.784765524+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:34:55.78696496+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:34:55.794558482+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:34:55.795260678+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:34:55.79661588+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:34:55.796833031+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:34:55.829049854+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:34:55.830755294+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@73e8480a]"}
{"@timestamp":"2026-02-19T08:34:55.84382089+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:34:55.846752+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.321194007+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.381743654+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.384551517+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.389593203+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.456914346+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.498179453+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.505426329+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.507309849+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.513959007+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.514333508+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.517807044+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.519781709+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.520005305+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.52311016+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.525569904+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.530908191+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:35:21.533322209+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.538699396+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.541079046+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:35:21.557213054+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:21.560880329+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.561031979+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:21.568809287+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.569662831+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.590825564+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.592961423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@379c7ff1]"}
{"@timestamp":"2026-02-19T08:35:21.605798381+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.606130467+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.611671284+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.618184893+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.619535898+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.621111988+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.631782041+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.632641328+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.63594457+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.636082391+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.636190748+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.637697699+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.640289432+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.640705567+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.644377499+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.649560695+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.64986777+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.654844852+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.658528626+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.658660983+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.662110203+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.665785736+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.666111578+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.668105969+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:35:21.668911756+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.669775482+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.669918077+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:35:21.670607008+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.672046506+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.673767953+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.676630657+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:35:21.680835887+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.686016515+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:21.689236461+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.689474812+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:21.69100499+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.691273025+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.692162788+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.696072688+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.696346123+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.698227582+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:35:21.698699683+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.701386256+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.692786094+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.70798851+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:35:21.713233557+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.713785531+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.715610373+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:35:21.715792053+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@46cd1cc4]"}
{"@timestamp":"2026-02-19T08:35:21.71700738+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.720861785+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.721139086+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.71839803+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.747834942+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.750108881+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@6002954d]"}
{"@timestamp":"2026-02-19T08:35:21.754830941+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.755134492+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.772211089+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.775119441+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.77981376+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.780056562+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.786345167+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.792696213+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.793859418+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.79722649+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.797375543+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.797509702+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.79806197+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.801942327+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.812516971+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.812943125+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.814133417+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.823412519+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.823836664+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.828970402+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.829213734+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.830023453+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:35:21.830223302+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.831344535+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:35:21.831795183+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.831902958+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.832644374+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.833410894+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.834855677+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = 'IMMEDIATE' \n        OR a.impactLevel = 'CRITICAL' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency='IMMEDIATE' \n            or m1_0.impact_level='CRITICAL'"}
{"@timestamp":"2026-02-19T08:35:21.835617711+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.837521313+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.839134345+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.839703913+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168"}
{"@timestamp":"2026-02-19T08:35:21.842047978+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.845456229+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.855102673+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.85629912+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.842588998+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 168\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.858757298+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.85880564+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.85899214+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.859133726+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@2eee268e]"}
{"@timestamp":"2026-02-19T08:35:21.860679205+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = 'IMMEDIATE' OR a.impactLevel = 'CRITICAL' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency='IMMEDIATE' or m1_0.impact_level='CRITICAL'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 168] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.862968922+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.863216131+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:35:21.865124917+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.865849129+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.868485764+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:21.871260739+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.871686314+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:21.873382224+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.874014839+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.890477678+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.890755227+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@416487b5]"}
{"@timestamp":"2026-02-19T08:35:21.894192945+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.894480159+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.903436747+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.906101177+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.906883915+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.907231006+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.911000481+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.922422661+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:21.927876261+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:21.928054349+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:21.928166545+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.931053354+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:21.946440429+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.94802635+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:21.949120529+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.951132985+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.953426078+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.953630106+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.953399828+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:21.956762153+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.956198104+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:21.960093498+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.96038406+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.962773408+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:21.962999508+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.963242899+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:35:21.963460966+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.964288702+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:35:21.964762398+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.965331885+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.967606336+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:21.969907315+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:21.973073472+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:21.973265184+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.973288405+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:21.973360804+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:21.975721527+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:21.975986467+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:21.976910898+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.979066809+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:35:21.979569282+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.980559745+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:21.984773821+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:21.978286497+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:21.987445574+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:21.987598768+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:21.987762465+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:21.987953163+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@518eaf40]"}
{"@timestamp":"2026-02-19T08:35:21.98853998+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:21.990331965+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:21.992128832+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:21.988680734+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:22.004394816+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:22.006478183+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@53cca1b8]"}
{"@timestamp":"2026-02-19T08:35:22.010775568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:22.01108737+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:35:22.018914241+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:22.022617812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:22.022768678+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:35:22.023456465+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:22.027623808+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:35:22.038243923+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:35:22.046031113+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:35:22.051740817+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:35:22.055674336+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:35:22.055892113+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:22.05970888+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:35:22.064125442+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:17:45 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:35:22.064657629+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:22.06563739+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:35:22.068147881+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:35:22.068938137+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:35:22.069543165+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:22.070273055+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:35:22.072691997+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = 'CRISIS' \n        OR a.mentalHealthStatus = 'AT_RISK' */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status='CRISIS' \n            or m1_0.mental_health_status='AT_RISK'"}
{"@timestamp":"2026-02-19T08:35:22.076022573+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:35:22.077412515+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170"}
{"@timestamp":"2026-02-19T08:35:22.080356596+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:35:22.080668673+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 149 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 170\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 186 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:35:22.098167924+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:35:22.09846104+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@2b2898c3]"}
{"@timestamp":"2026-02-19T08:35:22.099964629+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = 'CRISIS' OR a.mentalHealthStatus = 'AT_RISK' */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status='CRISIS' or m1_0.mental_health_status='AT_RISK'] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 170] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:35:22.103743538+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:37:46.908465766+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T08:37:46.933051594+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T08:37:46.937362409+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopping..."}
{"@timestamp":"2026-02-19T08:37:46.938539033+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]]"}
{"@timestamp":"2026-02-19T08:37:46.938954641+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]"}
{"@timestamp":"2026-02-19T08:37:46.939098211+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@28eeac04]"}
{"@timestamp":"2026-02-19T08:37:46.939175783+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Stopped."}
{"@timestamp":"2026-02-19T08:37:46.940213093+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:37:46.940266172+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:37:46.943734525+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED paused."}
{"@timestamp":"2026-02-19T08:37:47.425704305+02:00","level":"INFO","logger_name":"org.springframework.scheduling.quartz.SchedulerFactoryBean","message":"Shutting down Quartz Scheduler"}
{"@timestamp":"2026-02-19T08:37:47.425891533+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED shutting down."}
{"@timestamp":"2026-02-19T08:37:47.425923078+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED paused."}
{"@timestamp":"2026-02-19T08:37:47.428346777+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete."}
{"@timestamp":"2026-02-19T08:38:26.721688655+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Starting CounselingManagementApplication using Java 21.0.10 with PID 861103 (/home/dev/Public/unza-projects/counseling/unza-counseling-bakend/target/classes started by dev in /home/dev/Public/unza-projects/counseling/unza-counseling-bakend)"}
{"@timestamp":"2026-02-19T08:38:26.730622749+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Running with Spring Boot v3.1.5, Spring v6.0.13"}
{"@timestamp":"2026-02-19T08:38:26.731433435+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"The following 1 profile is active: \"development\""}
{"@timestamp":"2026-02-19T08:38:28.603932769+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:38:28.606296559+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:38:28.654385742+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.655780386+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.659702931+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.661395373+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.662506168+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.663424807+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.664322461+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.665123844+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.666008018+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.667046285+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.668545021+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.669971175+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.671198187+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.672482975+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.673436375+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.674701713+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.675775179+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.677047694+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.67820531+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.679267152+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.680702092+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.6821174+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.683057786+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.685068691+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.686442457+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.687554381+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.688408007+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.689151403+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 77 ms. Found 0 Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T08:38:28.694540756+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:38:28.695229851+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:38:28.707750843+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.708063307+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.708293002+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.708523687+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.708853119+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.709075022+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.709299757+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.709588575+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.70987654+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.710221788+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.710632442+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.711032456+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.711361457+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.711605769+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.711886893+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.712247176+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.712529235+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.712774599+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.713059705+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.713426643+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.713877001+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.714264021+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.714598273+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.71494401+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.715218391+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.715454038+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.715680586+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository"}
{"@timestamp":"2026-02-19T08:38:28.715825859+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 20 ms. Found 0 Reactive Elasticsearch repository interfaces."}
{"@timestamp":"2026-02-19T08:38:28.726081705+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:38:28.727263096+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:38:28.917430396+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 186 ms. Found 27 JPA repository interfaces."}
{"@timestamp":"2026-02-19T08:38:28.935409392+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Multiple Spring Data modules found, entering strict repository configuration mode"}
{"@timestamp":"2026-02-19T08:38:28.936853204+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode."}
{"@timestamp":"2026-02-19T08:38:28.957887967+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicPerformanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.958178278+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AcademicQualificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.958418301+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AdminRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.958670835+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AppointmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.958933375+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AssessmentResponseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.959180327+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.959405405+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseAssignmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.959677656+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseDocumentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.959899414+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CaseRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.960163126+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.960428391+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ConsentFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.96077235+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.CounselorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.961055169+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.GoalRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.961308502+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.961570642+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.MessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.961826236+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.962126476+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.PersonalDataFormRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.962348517+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ReportRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.96264765+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.ResourceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.962848115+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RiskAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.963084134+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.963294504+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SelfAssessmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.963475484+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionNoteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.963693399+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.963923318+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.SettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.964241386+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.964549867+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface zm.unza.counseling.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository"}
{"@timestamp":"2026-02-19T08:38:28.964715326+02:00","level":"INFO","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces."}
{"@timestamp":"2026-02-19T08:38:29.521811293+02:00","level":"INFO","logger_name":"org.springframework.cloud.context.scope.GenericScope","message":"BeanFactory id=89d6d460-efe7-3a4a-a8ea-feb593ed1921"}
{"@timestamp":"2026-02-19T08:38:29.680794162+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'enterpriseValidationConfig' of type [zm.unza.counseling.validation.EnterpriseValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T08:38:29.705878113+02:00","level":"INFO","logger_name":"org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","message":"Bean 'validator' of type [org.hibernate.validator.internal.engine.ValidatorImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)"}
{"@timestamp":"2026-02-19T08:38:30.577969253+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat initialized with port(s): 8080 (http)"}
{"@timestamp":"2026-02-19T08:38:30.59015627+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardService","message":"Starting service [Tomcat]"}
{"@timestamp":"2026-02-19T08:38:30.59041037+02:00","level":"INFO","logger_name":"org.apache.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.15]"}
{"@timestamp":"2026-02-19T08:38:30.714051212+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring embedded WebApplicationContext"}
{"@timestamp":"2026-02-19T08:38:30.714383014+02:00","level":"INFO","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 3921 ms"}
{"@timestamp":"2026-02-19T08:38:31.307914623+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"Flyway Community Edition 9.16.3 by Redgate"}
{"@timestamp":"2026-02-19T08:38:31.308059036+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":"See release notes here: https://rd.gt/416ObMi"}
{"@timestamp":"2026-02-19T08:38:31.308147779+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","message":""}
{"@timestamp":"2026-02-19T08:38:31.319601392+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Starting..."}
{"@timestamp":"2026-02-19T08:38:31.738698703+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b60d99c"}
{"@timestamp":"2026-02-19T08:38:31.739900623+02:00","level":"INFO","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Start completed."}
{"@timestamp":"2026-02-19T08:38:31.759800242+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.database.base.BaseDatabaseType","message":"Database: jdbc:postgresql://localhost:5432/unza_counseling_db (PostgreSQL 17.7)"}
{"@timestamp":"2026-02-19T08:38:31.769581359+02:00","level":"WARN","logger_name":"org.flywaydb.core.internal.database.base.Database","message":"Flyway upgrade recommended: PostgreSQL 17.7 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15."}
{"@timestamp":"2026-02-19T08:38:31.868313634+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Current version of schema \"public\": 2026.02.18"}
{"@timestamp":"2026-02-19T08:38:31.869301004+02:00","level":"INFO","logger_name":"org.flywaydb.core.internal.command.DbMigrate","message":"Schema \"public\" is up to date. No migration necessary."}
{"@timestamp":"2026-02-19T08:38:32.030489786+02:00","level":"INFO","logger_name":"org.hibernate.jpa.internal.util.LogHelper","message":"HHH000204: Processing PersistenceUnitInfo [name: default]"}
{"@timestamp":"2026-02-19T08:38:32.111860996+02:00","level":"INFO","logger_name":"org.hibernate.Version","message":"HHH000412: Hibernate ORM core version 6.2.13.Final"}
{"@timestamp":"2026-02-19T08:38:32.115450034+02:00","level":"INFO","logger_name":"org.hibernate.cfg.Environment","message":"HHH000406: Using bytecode reflection optimizer"}
{"@timestamp":"2026-02-19T08:38:32.444474442+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer"}
{"@timestamp":"2026-02-19T08:38:32.506683999+02:00","level":"WARN","logger_name":"org.hibernate.orm.deprecation","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)"}
{"@timestamp":"2026-02-19T08:38:32.760540938+02:00","level":"WARN","logger_name":"org.hibernate.boot.model.internal.EntityBinder","message":"HHH000139: Illegal use of @Table in a subclass of a SINGLE_TABLE hierarchy: zm.unza.counseling.entity.Client"}
{"@timestamp":"2026-02-19T08:38:33.902313444+02:00","level":"INFO","logger_name":"org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard","message":"HHH000182: No default (no-argument) constructor for class: zm.unza.counseling.entity.UserConsent (class must be instantiated by Interceptor)"}
{"@timestamp":"2026-02-19T08:38:34.356892478+02:00","level":"INFO","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)"}
{"@timestamp":"2026-02-19T08:38:34.36016403+02:00","level":"INFO","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'"}
{"@timestamp":"2026-02-19T08:38:34.82759595+02:00","level":"INFO","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","message":"Hibernate is in classpath; If applicable, HQL parser will be used."}
{"@timestamp":"2026-02-19T08:38:35.803739825+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use"}
{"@timestamp":"2026-02-19T08:38:35.805007948+02:00","level":"DEBUG","logger_name":"org.springframework.web.filter.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use"}
{"@timestamp":"2026-02-19T08:38:35.90978828+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS Security Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T08:38:35.911052551+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"Setting allowedOriginPatterns to: [http://localhost:3000, http://localhost:8081, http://localhost:4200]"}
{"@timestamp":"2026-02-19T08:38:36.946551665+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        User x */ select\n            count(*) \n        from\n            users u1_0"}
{"@timestamp":"2026-02-19T08:38:40.420466401+02:00","level":"INFO","logger_name":"zm.unza.counseling.service.impl.NotificationServiceImpl","message":"WebSocket messaging template available - real-time notifications enabled"}
{"@timestamp":"2026-02-19T08:38:41.078106965+02:00","level":"INFO","logger_name":"org.springframework.security.web.DefaultSecurityFilterChain","message":"Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b0458ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14205f2, org.springframework.security.web.context.SecurityContextHolderFilter@27bda565, org.springframework.security.web.header.HeaderWriterFilter@49f508f9, org.springframework.web.filter.CorsFilter@17355ea4, org.springframework.security.web.authentication.logout.LogoutFilter@6e5d0419, zm.unza.counseling.security.JwtAuthenticationFilter@4b35c252, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ad5579f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6a4049, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@752303d9, org.springframework.security.web.session.SessionManagementFilter@4ff2de2, org.springframework.security.web.access.ExceptionTranslationFilter@15b50a48, org.springframework.security.web.access.intercept.AuthorizationFilter@9b6f3e2]"}
{"@timestamp":"2026-02-19T08:38:41.220753622+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.server.support.WebSocketHandlerMapping","message":"Patterns [/ws/**] in 'stompWebSocketHandlerMapping'"}
{"@timestamp":"2026-02-19T08:38:41.374738049+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AcademicPerformanceController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.375398213+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AdminController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.375712438+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AnalyticsController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.376011426+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AppointmentController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.376165477+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.376373791+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.AuthController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.376587119+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.37673705+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CaseDocumentController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.376980452+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ClientController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.377215652+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ConsentFormController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.377454816+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.CounselorController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.377635258+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.DashboardController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.377907502+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.GoalController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.378089542+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.HealthController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.378284396+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MentalHealthAcademicAnalysisController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.378569698+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.MessageController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.378693283+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.NotificationController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.378871015+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.PersonalDataFormController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.379175286+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ReportController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.379339734+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.ResourceController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.379566174+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.RiskAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.379727603+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SelfAssessmentController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.379881031+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SessionController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.380220594+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.SettingsController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.380634405+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.UserController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.387017743+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\tz.u.c.c.WebSocketEventController:\n\t{[MESSAGE],[/message.send/{recipientId}]}: sendMessage(Long,Map,Principal)\n\t{[MESSAGE],[/typing.start/{partnerId}]}: sendTypingIndicator(Long,Map,Principal)\n\t{[MESSAGE],[/typing.stop/{partnerId}]}: sendStopTypingIndicator(Long,Principal)\n\t{[MESSAGE],[/message.delivered/{messageId}]}: markMessageDelivered(Long,Map,Principal)\n\t{[MESSAGE],[/status.online]}: broadcastOnlineStatus(Principal)\n\t{[MESSAGE],[/status.offline]}: broadcastOfflineStatus(Principal)"}
{"@timestamp":"2026-02-19T08:38:41.393908454+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.b.a.w.s.e.BasicErrorController:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.402208502+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.a.OpenApiWebMvcResource:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.402679234+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerWelcomeWebMvc:\n\t"}
{"@timestamp":"2026-02-19T08:38:41.402983179+02:00","level":"DEBUG","logger_name":"org.springframework.web.socket.messaging.WebSocketAnnotationMethodMessageHandler","message":"\n\to.s.w.u.SwaggerConfigResource:\n\t"}
{"@timestamp":"2026-02-19T08:38:42.252776277+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T08:38:42.310880294+02:00","level":"INFO","logger_name":"org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping","message":"Adding welcome page: ServletContext resource [/index.html]"}
{"@timestamp":"2026-02-19T08:38:42.316061136+02:00","level":"INFO","logger_name":"zm.unza.counseling.config.CorsConfig","message":"CORS WebMvc Configuration - allowedOrigins: http://localhost:3000,http://localhost:8081,http://localhost:4200, allowedMethods: GET,POST,PUT,DELETE,PATCH,OPTIONS, allowedHeaders: *, allowCredentials: true, maxAge: 3600"}
{"@timestamp":"2026-02-19T08:38:42.430771008+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"289 mappings in 'requestMappingHandlerMapping'"}
{"@timestamp":"2026-02-19T08:38:42.518185751+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'"}
{"@timestamp":"2026-02-19T08:38:42.54817153+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 3 @ExceptionHandler, 1 ResponseBodyAdvice"}
{"@timestamp":"2026-02-19T08:38:45.035420107+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Using default implementation for ThreadExecutor"}
{"@timestamp":"2026-02-19T08:38:45.055815886+02:00","level":"INFO","logger_name":"org.quartz.core.SchedulerSignalerImpl","message":"Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl"}
{"@timestamp":"2026-02-19T08:38:45.056097588+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Quartz Scheduler v.2.3.2 created."}
{"@timestamp":"2026-02-19T08:38:45.057649965+02:00","level":"INFO","logger_name":"org.quartz.simpl.RAMJobStore","message":"RAMJobStore initialized."}
{"@timestamp":"2026-02-19T08:38:45.059344948+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n"}
{"@timestamp":"2026-02-19T08:38:45.059909899+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance."}
{"@timestamp":"2026-02-19T08:38:45.060256307+02:00","level":"INFO","logger_name":"org.quartz.impl.StdSchedulerFactory","message":"Quartz scheduler version: 2.3.2"}
{"@timestamp":"2026-02-19T08:38:45.060678624+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@8a79164"}
{"@timestamp":"2026-02-19T08:38:46.676277791+02:00","level":"INFO","logger_name":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","message":"Exposing 6 endpoint(s) beneath base path '/actuator'"}
{"@timestamp":"2026-02-19T08:38:47.040764832+02:00","level":"INFO","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat started on port(s): 8080 (http) with context path '/api'"}
{"@timestamp":"2026-02-19T08:38:47.087997699+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]"}
{"@timestamp":"2026-02-19T08:38:47.088487023+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]"}
{"@timestamp":"2026-02-19T08:38:47.088966732+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Starting..."}
{"@timestamp":"2026-02-19T08:38:47.089300741+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@401c055d]"}
{"@timestamp":"2026-02-19T08:38:47.089444602+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@401c055d]"}
{"@timestamp":"2026-02-19T08:38:47.090229794+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@401c055d]]"}
{"@timestamp":"2026-02-19T08:38:47.090888129+02:00","level":"INFO","logger_name":"org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler","message":"Started."}
{"@timestamp":"2026-02-19T08:38:47.091320588+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:38:47.09148718+02:00","level":"DEBUG","logger_name":"org.springframework.web.SimpLogging","message":"brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]"}
{"@timestamp":"2026-02-19T08:38:47.092556894+02:00","level":"INFO","logger_name":"org.springframework.scheduling.quartz.SchedulerFactoryBean","message":"Starting Quartz Scheduler now"}
{"@timestamp":"2026-02-19T08:38:47.09319092+02:00","level":"INFO","logger_name":"org.quartz.core.QuartzScheduler","message":"Scheduler quartzScheduler_$_NON_CLUSTERED started."}
{"@timestamp":"2026-02-19T08:38:47.201223836+02:00","level":"INFO","logger_name":"zm.unza.counseling.CounselingManagementApplication","message":"Started CounselingManagementApplication in 21.572 seconds (process running for 22.083)"}
{"@timestamp":"2026-02-19T08:38:47.587783239+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T08:38:47.626666876+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:38:47.634638817+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        r1_0.id,\n        r1_0.description,\n        r1_0.name \n    from\n        roles r1_0 \n    where\n        r1_0.name=?"}
{"@timestamp":"2026-02-19T08:38:47.63710754+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:38:47.64533212+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:38:47.654798832+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:38:47.661263078+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:38:47.841506538+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:38:47.846296382+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:38:47.849412645+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:23.448396701+02:00","level":"INFO","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api]","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T08:39:23.488998068+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Initializing Servlet 'dispatcherServlet'"}
{"@timestamp":"2026-02-19T08:39:23.501285106+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected StandardServletMultipartResolver"}
{"@timestamp":"2026-02-19T08:39:23.503379144+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected AcceptHeaderLocaleResolver"}
{"@timestamp":"2026-02-19T08:39:23.508302417+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected FixedThemeResolver"}
{"@timestamp":"2026-02-19T08:39:23.745564574+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@fdf3f69"}
{"@timestamp":"2026-02-19T08:39:23.74897329+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Detected org.springframework.web.servlet.support.SessionFlashMapManager@da115eb"}
{"@timestamp":"2026-02-19T08:39:23.752294082+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data"}
{"@timestamp":"2026-02-19T08:39:23.755449829+02:00","level":"INFO","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed initialization in 262 ms"}
{"@timestamp":"2026-02-19T08:39:23.9460254+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing POST /auth/login"}
{"@timestamp":"2026-02-19T08:39:24.359665665+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: POST /api/auth/login"}
{"@timestamp":"2026-02-19T08:39:24.361696778+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"No Bearer token found for request: /api/auth/login"}
{"@timestamp":"2026-02-19T08:39:24.390620915+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.authentication.AnonymousAuthenticationFilter","message":"Set SecurityContextHolder to anonymous SecurityContext"}
{"@timestamp":"2026-02-19T08:39:24.486142165+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured POST /auth/login"}
{"@timestamp":"2026-02-19T08:39:24.538187558+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"POST \"/api/auth/login\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:24.617946737+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.AuthController#login(LoginRequest)"}
{"@timestamp":"2026-02-19T08:39:25.289967277+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor","message":"Read \"application/json;charset=UTF-8\" to [LoginRequest(identifier=counselor1@unza.zm, password=11111111)]"}
{"@timestamp":"2026-02-19T08:39:25.815777888+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:25.883863634+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:25.893253855+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:26.236732832+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:26.535669022+02:00","level":"DEBUG","logger_name":"org.springframework.security.authentication.dao.DaoAuthenticationProvider","message":"Authenticated user"}
{"@timestamp":"2026-02-19T08:39:26.607746323+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        u \n    FROM\n        User u \n    LEFT JOIN\n        \n    FETCH\n        u.roles \n    WHERE\n        u.email = :email */ select\n            u1_0.id,\n            u1_0.user_type,\n            u1_0.is_active,\n            u1_0.authentication_source,\n            u1_0.available_for_appointments,\n            u1_0.bio,\n            u1_0.created_at,\n            u1_0.date_of_birth,\n            u1_0.department,\n            u1_0.email,\n            u1_0.email_verified,\n            u1_0.first_name,\n            u1_0.gender,\n            u1_0.has_signed_consent,\n            u1_0.last_login_at,\n            u1_0.last_name,\n            u1_0.license_number,\n            u1_0.password,\n            u1_0.phone_number,\n            u1_0.profile_picture,\n            u1_0.program,\n            u1_0.qualifications,\n            u1_0.reset_password_expiry,\n            u1_0.reset_password_token,\n            r1_0.user_id,\n            r1_1.id,\n            r1_1.description,\n            r1_1.name,\n            u1_0.specialization,\n            u1_0.student_id,\n            u1_0.updated_at,\n            u1_0.username,\n            u1_0.year_of_study,\n            u1_0.years_of_experience,\n            u1_0.admin_level,\n            u1_0.department_managed,\n            u1_0.client_status,\n            u1_0.consent_to_treatment,\n            u1_0.counseling_history,\n            u1_0.emergency_contact_name,\n            u1_0.emergency_contact_phone,\n            u1_0.emergency_contact_relationship,\n            u1_0.faculty,\n            u1_0.gpa,\n            u1_0.last_session_date,\n            u1_0.medical_history,\n            u1_0.notes,\n            u1_0.programme,\n            u1_0.referral_source,\n            u1_0.registration_date,\n            u1_0.risk_level,\n            u1_0.risk_score,\n            u1_0.total_sessions,\n            u1_0.available,\n            u1_0.office_location \n        from\n            users u1_0 \n        left join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:26.624121077+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:26.653057929+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.006257743+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Building JWT token for user: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:27.006532939+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.166158032+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* update\n        for zm.unza.counseling.entity.Counselor */update users \n    set\n        is_active=?,\n        authentication_source=?,\n        available_for_appointments=?,\n        bio=?,\n        date_of_birth=?,\n        department=?,\n        email=?,\n        email_verified=?,\n        first_name=?,\n        gender=?,\n        has_signed_consent=?,\n        last_login_at=?,\n        last_name=?,\n        license_number=?,\n        password=?,\n        phone_number=?,\n        profile_picture=?,\n        program=?,\n        qualifications=?,\n        reset_password_expiry=?,\n        reset_password_token=?,\n        specialization=?,\n        student_id=?,\n        updated_at=?,\n        username=?,\n        year_of_study=?,\n        years_of_experience=?,\n        available=?,\n        office_location=? \n    where\n        id=?"}
{"@timestamp":"2026-02-19T08:39:27.229781537+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:27.240466246+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vuc2Vsb3IxQHVuemEuem0iLCJpYXQiOjE3NzE0ODMxNjYs (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:27.310344298+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:27.955475993+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:27.958827524+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:27.959914924+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:27.975073246+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.976516031+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:27.979107651+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:27.983712466+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:27.98444495+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:27.983584359+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:27.984796881+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.981218301+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:27.988896822+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:27.989113498+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:27.989263963+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.990035252+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:27.993187339+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:27.993411814+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:27.994688242+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:27.994937978+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:27.99553175+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.040443313+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.040690851+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.041108038+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.040590953+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.040456937+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.056663281+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.059392486+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.062402658+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.062578839+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.074350666+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.083211417+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.086968998+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.088432596+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.093657393+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.098693893+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.0991664+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.102554672+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.102556166+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.103068777+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.104530235+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.114538347+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.106900449+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.10701493+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.108378247+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.115710296+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.120057563+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.121138181+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.126885779+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.127376641+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.123983067+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.129841071+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.130158154+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.132379455+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.132766953+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.135078615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.132816085+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.135437856+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.135509012+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.136882088+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.137141744+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.14117698+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.144047568+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:39:28.144504615+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:39:28.147676359+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.150718817+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.150835746+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.15095163+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.152294779+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.15261944+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.159613573+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.159996158+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.160992263+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.161269185+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.164551232+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.166954414+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.167950293+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:39:28.1685507+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.169645681+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.169987034+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.172219312+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.172522323+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.18046934+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:39:28.182993551+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.18656998+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:39:28.224486584+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.224534879+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.225006834+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.225168012+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.225636417+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.22611744+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.226612275+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.226785853+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.235928294+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:39:28.240670573+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.253948141+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.256863261+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.266844352+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.267529038+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:39:28.270317834+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:39:28.268362055+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:39:28.275051839+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:39:28.277441341+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.289151563+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.292207729+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:39:28.293044054+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.29446766+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.300163298+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.302926642+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.300147776+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.303760168+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.310159723+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.312293127+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.312791301+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.315949807+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.320847591+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:28.326828678+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.339314911+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:39:28.351545614+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.355378729+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.35728052+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.359790579+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.361103514+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.357447986+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:28.367954271+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.366371098+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.372232812+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.372409458+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:28.372570356+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.377554108+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.377749753+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:28.377915658+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.381984796+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.382263442+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:28.382439738+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.395916085+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.397322045+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.397382545+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.400462152+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:28.403158157+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.406707912+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.408946137+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.410773504+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.421337562+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.424219169+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.425549427+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.425598909+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.425957326+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.426977334+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.43659507+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.436727964+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.437178051+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.445623667+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.448265097+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.449284221+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.442967774+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.450858756+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.445303915+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.453604545+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.453816891+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:28.453961689+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.455472775+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.455760538+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.458142033+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.458366713+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.459132809+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.470143184+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:28.473355217+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.474642527+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.474916871+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.476004687+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/high-risk-clients"}
{"@timestamp":"2026-02-19T08:39:28.478727876+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.480936463+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.479140083+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:28.483728862+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/high-risk-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.484681249+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getHighRiskClients()"}
{"@timestamp":"2026-02-19T08:39:28.484969229+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.485143914+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.485164249+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.485188967+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.48475653+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.485384497+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.485458187+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.486168304+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getHighRiskClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.486275389+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching high-risk clients for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.486877279+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/upcoming-appointments"}
{"@timestamp":"2026-02-19T08:39:28.487643446+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:28.487899527+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/upcoming-appointments\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.487324286+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/recent-clients"}
{"@timestamp":"2026-02-19T08:39:28.488998607+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/recent-clients\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.488703286+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/performance-metrics"}
{"@timestamp":"2026-02-19T08:39:28.490633133+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getUpcomingAppointments()"}
{"@timestamp":"2026-02-19T08:39:28.491068415+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/performance-metrics\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.491130263+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.491799785+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getRecentClients()"}
{"@timestamp":"2026-02-19T08:39:28.492434118+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getUpcomingAppointments(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.496020719+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:28.496082985+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.496139935+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching upcoming appointments for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.496488238+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getPerformanceMetrics()"}
{"@timestamp":"2026-02-19T08:39:28.496686351+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels \n    ORDER BY\n        c.riskScore DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client' \n        order by\n            c1_0.risk_score desc"}
{"@timestamp":"2026-02-19T08:39:28.498026656+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getRecentClients(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.500015762+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching recent clients for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.504326089+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:28.504646188+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.506476899+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.507037837+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=High-risk clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.507117115+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:28.507006153+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.511016234+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.DashboardController.getPerformanceMetrics(); target is of class [zm.unza.counseling.controller.DashboardController]"}
{"@timestamp":"2026-02-19T08:39:28.511152253+02:00","level":"INFO","logger_name":"zm.unza.counseling.controller.DashboardController","message":"Fetching performance metrics for dashboard"}
{"@timestamp":"2026-02-19T08:39:28.512224892+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Appointment x */ select\n            count(*) \n        from\n            appointments a1_0"}
{"@timestamp":"2026-02-19T08:39:28.512534952+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.515426193+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            a1_0.id,\n            a1_0.appointment_date,\n            a1_0.cancellation_reason,\n            a1_0.client_id,\n            a1_0.counselor_id,\n            a1_0.created_at,\n            a1_0.description,\n            a1_0.duration,\n            a1_0.location,\n            a1_0.meeting_link,\n            a1_0.meeting_provider,\n            a1_0.reminder_sent,\n            a1_0.session_mode,\n            a1_0.status,\n            a1_0.student_id,\n            a1_0.title,\n            a1_0.type,\n            a1_0.updated_at \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:39:28.515541972+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        c \n    FROM\n        Client c \n    ORDER BY\n        c.createdAt DESC */ select\n            c1_0.id,\n            c1_0.is_active,\n            c1_0.authentication_source,\n            c1_0.available_for_appointments,\n            c1_0.bio,\n            c1_0.created_at,\n            c1_0.date_of_birth,\n            c1_0.department,\n            c1_0.email,\n            c1_0.email_verified,\n            c1_0.first_name,\n            c1_0.gender,\n            c1_0.has_signed_consent,\n            c1_0.last_login_at,\n            c1_0.last_name,\n            c1_0.license_number,\n            c1_0.password,\n            c1_0.phone_number,\n            c1_0.profile_picture,\n            c1_0.program,\n            c1_0.qualifications,\n            c1_0.reset_password_expiry,\n            c1_0.reset_password_token,\n            c1_0.specialization,\n            c1_0.student_id,\n            c1_0.updated_at,\n            c1_0.username,\n            c1_0.year_of_study,\n            c1_0.years_of_experience,\n            c1_0.client_status,\n            c1_0.consent_to_treatment,\n            c1_0.counseling_history,\n            c1_0.emergency_contact_name,\n            c1_0.emergency_contact_phone,\n            c1_0.emergency_contact_relationship,\n            c1_0.faculty,\n            c1_0.gpa,\n            c1_0.last_session_date,\n            c1_0.medical_history,\n            c1_0.notes,\n            c1_0.programme,\n            c1_0.referral_source,\n            c1_0.registration_date,\n            c1_0.risk_level,\n            c1_0.risk_score,\n            c1_0.total_sessions \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client' \n        order by\n            c1_0.created_at desc \n        offset\n            ? rows \n        fetch\n            first ? rows only"}
{"@timestamp":"2026-02-19T08:39:28.524757514+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:28.525079553+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.525121843+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.525383583+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Recent clients retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.528914174+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.529507368+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Upcoming appointments retrieved successfully, data=[])]"}
{"@timestamp":"2026-02-19T08:39:28.535211424+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.534757811+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /dashboard/stats"}
{"@timestamp":"2026-02-19T08:39:28.541200268+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/dashboard/stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:28.542245287+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.DashboardController#getStats()"}
{"@timestamp":"2026-02-19T08:39:28.538661332+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.544866272+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.546694768+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Client x */ select\n            count(*) \n        from\n            users c1_0 \n        where\n            c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.555259056+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        count(c1_0.id) \n    from\n        users c1_0 \n    where\n        c1_0.client_status=? \n        and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.55719131+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.562846981+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        Session x */ select\n            count(*) \n        from\n            sessions s1_0"}
{"@timestamp":"2026-02-19T08:39:28.570453391+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.status=?"}
{"@timestamp":"2026-02-19T08:39:28.574015547+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(a) \n    FROM\n        Appointment a \n    WHERE\n        a.status = :status \n        AND a.appointmentDate BETWEEN :start AND :end */ select\n            count(a1_0.id) \n        from\n            appointments a1_0 \n        where\n            a1_0.status=? \n            and a1_0.appointment_date between ? and ?"}
{"@timestamp":"2026-02-19T08:39:28.580276829+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.580913213+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Performance metrics retrieved successfully, data={scheduledAppoint (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:28.583886747+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:28.590888319+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(c) \n    FROM\n        Client c \n    WHERE\n        c.riskLevel IN :riskLevels */ select\n            count(c1_0.id) \n        from\n            users c1_0 \n        where\n            c1_0.risk_level in (?,?) \n            and c1_0.user_type='Client'"}
{"@timestamp":"2026-02-19T08:39:28.599705567+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(u) \n    FROM\n        User u \n    JOIN\n        u.roles r \n    WHERE\n        r.name = 'ROLE_COUNSELOR' */ select\n            count(u1_0.id) \n        from\n            users u1_0 \n        join\n            (user_roles r1_0 \n        join\n            roles r1_1 \n                on r1_1.id=r1_0.role_id) \n                    on u1_0.id=r1_0.user_id \n            where\n                r1_1.name='ROLE_COUNSELOR'"}
{"@timestamp":"2026-02-19T08:39:28.60420939+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:28.604581874+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Dashboard statistics retrieved successfully, data=DashboardStatsRe (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:28.606476406+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:37.251655034+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.253410722+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing OPTIONS /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.29197627+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.297607714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T08:39:37.297771509+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:37.297971426+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.305588841+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:37.320629643+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:37.32678601+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.331599105+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.340027762+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:37.340304494+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.342595055+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.345405514+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:37.348726843+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T08:39:37.351428825+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.352714698+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users?page=0&size=20\", parameters={masked}"}
{"@timestamp":"2026-02-19T08:39:37.356731757+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T08:39:37.377581184+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:39:37.378836851+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:39:37.397136051+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T08:39:37.415020221+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.42233232+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.42939136+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.433761047+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.443046204+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.453433685+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.479052584+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:37.481884894+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:37.533670961+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:37.543784752+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.548337451+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/users"}
{"@timestamp":"2026-02-19T08:39:37.548505067+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:37.548646044+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.553558543+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:37.557883109+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:37.56223701+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.565378999+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.569094533+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:37.56963185+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.572982381+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:37.581860301+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:37.582390344+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/users"}
{"@timestamp":"2026-02-19T08:39:37.584011213+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /users?page=0&size=20"}
{"@timestamp":"2026-02-19T08:39:37.584432064+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/users?page=0&size=20\", parameters={masked}"}
{"@timestamp":"2026-02-19T08:39:37.587456501+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.UserController#getAllUsers(Pageable)"}
{"@timestamp":"2026-02-19T08:39:37.589985197+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:39:37.592621816+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.UserController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [zm.unza.counseling.controller.UserController]"}
{"@timestamp":"2026-02-19T08:39:37.602890431+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    offset\n        ? rows \n    fetch\n        first ? rows only"}
{"@timestamp":"2026-02-19T08:39:37.616064922+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.620107004+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.623887744+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.628193615+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.635434656+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:37.639698621+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:37.643610095+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:37.644410853+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [ApiResponse(success=true, message=Success, data=Page 1 of 1 containing zm.unza.counseling.entity.Use (truncated)...]"}
{"@timestamp":"2026-02-19T08:39:37.647732544+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:41.337994648+02:00","level":"INFO","logger_name":"org.springframework.web.socket.config.WebSocketMessageBrokerStats","message":"WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 10, completed tasks = 0]"}
{"@timestamp":"2026-02-19T08:39:42.670255186+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.67308219+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.673213035+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.673330781+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.675049877+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.675695844+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.677091965+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.677239135+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.67740934+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.678011705+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.679260297+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.68134059+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.681509633+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.679151357+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.685193524+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.689201918+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.691054026+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.692663788+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.699551554+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.70295559+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.705589033+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.712879116+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.713109152+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.719258018+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.706391881+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.721877996+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.72870909+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.730390284+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.732462275+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.725006408+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.732957009+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.735749566+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.736499923+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.736736629+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.7382438+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.738459126+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.738927385+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.739821042+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.740151104+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.737553326+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.741219976+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.742137322+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.745423679+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.751300238+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.751988164+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.753206798+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.75422546+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.756261691+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.773863105+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.776809396+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.781379128+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.783223511+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.783732435+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.786522931+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.790093624+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.792558089+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.796512067+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.813412302+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:39:42.819393982+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:39:42.821637365+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:39:42.825933172+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.826202043+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:39:42.831037055+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.831209332+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:42.831341686+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:39:42.83852052+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:42.841960093+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.840144335+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:39:42.844007272+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.846726846+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.847251573+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.853419728+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.856937782+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.858999137+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.862152739+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.864009654+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.864406708+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.864587624+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.868155392+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.874399203+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.875784311+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:39:42.876794335+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.877628398+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.886537283+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.886860646+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.88946535+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:42.892312425+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.895706296+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.895917191+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.897049351+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/contacts/available"}
{"@timestamp":"2026-02-19T08:39:42.897327275+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/contacts/available\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.89806106+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getAvailableContacts(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.902672538+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.903313539+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.90616655+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.90630049+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.906646317+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:42.906440746+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.90785626+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.910218927+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.913076112+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.913110133+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:42.917531824+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        a1_0.id,\n        a1_0.appointment_date,\n        a1_0.cancellation_reason,\n        a1_0.client_id,\n        a1_0.counselor_id,\n        a1_0.created_at,\n        a1_0.description,\n        a1_0.duration,\n        a1_0.location,\n        a1_0.meeting_link,\n        a1_0.meeting_provider,\n        a1_0.reminder_sent,\n        a1_0.session_mode,\n        a1_0.status,\n        a1_0.student_id,\n        a1_0.title,\n        a1_0.type,\n        a1_0.updated_at \n    from\n        appointments a1_0 \n    where\n        a1_0.counselor_id=?"}
{"@timestamp":"2026-02-19T08:39:42.92090394+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.921605188+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.922454073+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.922794747+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:39:42.924240193+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:42.925472024+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.926656087+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.926880842+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.92745438+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.933989696+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.936933954+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.937144064+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.938209766+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/messages/unread-count"}
{"@timestamp":"2026-02-19T08:39:42.938835994+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/messages/unread-count\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.939862197+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getUnreadCount(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.942411139+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:42.942927086+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.944793646+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.946106688+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:42.949592229+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:42.949813086+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.950538251+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/conversations"}
{"@timestamp":"2026-02-19T08:39:42.950758661+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/conversations\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:42.950852574+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.951671157+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MessageController#getConversations(UserDetails)"}
{"@timestamp":"2026-02-19T08:39:42.955116962+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:42.956003442+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.958711813+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:42.964676471+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        COUNT(m) \n    FROM\n        Message m \n    WHERE\n        m.recipient.id = :userId \n        AND m.isRead = false */ select\n            count(m1_0.id) \n        from\n            messages m1_0 \n        where\n            m1_0.recipient_id=? \n            and m1_0.is_read=false"}
{"@timestamp":"2026-02-19T08:39:42.968082957+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.970091995+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.97096758+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [{count=0}]"}
{"@timestamp":"2026-02-19T08:39:42.972416399+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:42.979868535+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        DISTINCT CASE \n            WHEN m.sender.id = :userId THEN m.recipient.id \n            ELSE m.sender.id \n        END \n    FROM\n        Message m \n    WHERE\n        m.sender.id = :userId \n        OR m.recipient.id = :userId */ select\n            distinct case \n                when m1_0.sender_id=? then m1_0.recipient_id \n                else m1_0.sender_id \n            end \n        from\n            messages m1_0 \n        where\n            m1_0.sender_id=? \n            or m1_0.recipient_id=?"}
{"@timestamp":"2026-02-19T08:39:42.986340525+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    left join\n        (user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        left join\n            role_permissions p1_0 \n                on r1_1.id=p1_0.role_id \n        where\n            u1_0.id=?"}
{"@timestamp":"2026-02-19T08:39:42.991505157+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:42.997852773+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:42.998151974+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [[]]"}
{"@timestamp":"2026-02-19T08:39:43.001797972+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 200 OK"}
{"@timestamp":"2026-02-19T08:39:59.866070228+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.867220199+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.867328069+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:59.867408058+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.868822276+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:59.870508455+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:59.872277413+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:59.87374395+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:59.874931127+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:59.875033239+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.876718993+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.877987059+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:59.878165824+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.878806719+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.878989201+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:59.879969653+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:39:59.881445636+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.882513898+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.887028648+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:39:59.906315573+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:39:59.921352038+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:39:59.921441045+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:39:59.939118206+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:39:59.940265814+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:39:59.951643188+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:59.951922349+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@11b17b84]"}
{"@timestamp":"2026-02-19T08:39:59.95436852+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:39:59.954634927+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:39:59.957693352+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.958665898+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.958738145+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:59.958802271+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.960142781+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:59.965704674+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:59.968892582+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:59.969826626+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:39:59.970694292+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:59.970998436+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:39:59.971065759+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:39:59.971143606+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.973663001+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:39:59.973779251+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:59.973917267+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.976118052+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.977413276+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:39:59.977870444+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:59.977991347+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.978844332+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/dashboard-stats"}
{"@timestamp":"2026-02-19T08:39:59.97910566+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/dashboard-stats\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:59.980176289+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getDashboardStats()"}
{"@timestamp":"2026-02-19T08:39:59.980595103+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.981130166+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:39:59.981722639+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.982831797+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* select\n        count(*) \n    from\n        MentalHealthAcademicAnalysis x */ select\n            count(*) \n        from\n            mental_health_academic_analysis m1_0"}
{"@timestamp":"2026-02-19T08:39:59.98364951+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:39:59.985149086+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:39:59.985330753+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.987251733+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:39:59.989059163+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:39:59.9905388+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:39:59.990648495+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:39:59.991512602+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:39:59.991701591+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:39:59.991791116+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:39:59.992349421+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:39:59.992585467+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:39:59.99328278+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:39:59.993817929+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.99504015+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:39:59.991960101+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getDashboardStats(MentalHealthAcademicAnalysisService.java:40)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getDashboardStats(MentalHealthAcademicAnalysisController.java:76)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getDashboardStats(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:39:59.998619818+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:39:59.998813982+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@3d935bb2]"}
{"@timestamp":"2026-02-19T08:40:00.000764423+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.001985317+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.003010613+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = :immediate \n        OR a.impactLevel = :critical */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency=? \n            or m1_0.impact_level=?"}
{"@timestamp":"2026-02-19T08:40:00.005734056+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.005869426+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166"}
{"@timestamp":"2026-02-19T08:40:00.007037622+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.007243816+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findUrgentInterventions(MentalHealthAcademicAnalysisRepository.java:24)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.012658191+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.013132254+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@2f107a13]"}
{"@timestamp":"2026-02-19T08:40:00.014413048+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 166] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.014785946+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.019803274+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:40:00.020744407+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:40:00.020832063+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:40:00.020925494+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.025588988+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:40:00.029653519+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.030413531+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.030484025+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:40:00.030592203+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.030603609+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:40:00.032758011+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:40:00.03335781+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:40:00.034801563+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:40:00.034926035+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:40:00.036988065+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:40:00.037134925+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:40:00.037146374+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.038681107+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:40:00.039653498+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.04052211+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:40:00.040816038+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.042484714+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:40:00.042744369+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:40:00.043662053+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/urgent"}
{"@timestamp":"2026-02-19T08:40:00.044791724+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/urgent\", parameters={}"}
{"@timestamp":"2026-02-19T08:40:00.04568493+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.046006589+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getUrgentInterventions()"}
{"@timestamp":"2026-02-19T08:40:00.046629663+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.047297268+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.048297611+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:40:00.048523441+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.049321138+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.049624846+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:40:00.050159211+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.interventionUrgency = :immediate \n        OR a.impactLevel = :critical */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.intervention_urgency=? \n            or m1_0.impact_level=?"}
{"@timestamp":"2026-02-19T08:40:00.050358063+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:40:00.052653731+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.054130082+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.054241485+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166"}
{"@timestamp":"2026-02-19T08:40:00.055487278+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.05423792+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.057508575+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:40:00.059427511+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.059554587+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:40:00.061193298+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.055739304+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findUrgentInterventions(MentalHealthAcademicAnalysisRepository.java:24)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findUrgentInterventions(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getUrgentInterventions(MentalHealthAcademicAnalysisService.java:21)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getUrgentInterventions(MentalHealthAcademicAnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getUrgentInterventions(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 166\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.064962451+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.065787352+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@383bbd53]"}
{"@timestamp":"2026-02-19T08:40:00.067479361+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.interventionUrgency = :immediate OR a.impactLevel = :critical */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.intervention_urgency=? or m1_0.impact_level=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 166] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.067736085+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.061381118+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.078792132+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.079018684+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@5b1a164c]"}
{"@timestamp":"2026-02-19T08:40:00.08297288+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.083284679+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.096584937+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.098026973+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.098149111+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:40:00.098254197+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.10523061+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.105214398+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:40:00.106796565+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.106872988+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:40:00.10695334+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.110604767+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:40:00.115852602+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:40:00.118191093+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:40:00.118914523+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:40:00.120532718+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:40:00.120558092+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:40:00.12195053+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:40:00.122476322+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:40:00.122840754+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.12359551+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:40:00.123756217+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.127358831+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.128096015+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.130039597+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:40:00.130346498+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.131353258+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:40:00.131543597+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.131606901+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.131789676+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:40:00.132599182+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/high-risk"}
{"@timestamp":"2026-02-19T08:40:00.132885875+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:40:00.13332234+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.133458217+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/high-risk\", parameters={}"}
{"@timestamp":"2026-02-19T08:40:00.134372027+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.134732919+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getHighRiskAnalyses()"}
{"@timestamp":"2026-02-19T08:40:00.1351853+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.135605623+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.13631109+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:40:00.137442211+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:40:00.138573629+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.138684963+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:40:00.139644365+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.140099548+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.140184194+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:40:00.141038309+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.13994364+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.141218072+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getHighRiskAnalyses(MentalHealthAcademicAnalysisService.java:17)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getHighRiskAnalyses(MentalHealthAcademicAnalysisController.java:30)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getHighRiskAnalyses(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.147501728+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.147672637+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@2b08e0eb]"}
{"@timestamp":"2026-02-19T08:40:00.147800425+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.147919657+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@4deef1c0]"}
{"@timestamp":"2026-02-19T08:40:00.148779674+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.148991905+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.149281839+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.149489712+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
{"@timestamp":"2026-02-19T08:40:00.163336042+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.165272825+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Processing request: GET /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.165376825+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"JWT token received (first 20 chars): eyJhbGciOiJIUzI1NiJ9..."}
{"@timestamp":"2026-02-19T08:40:00.165487583+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.168358367+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Extracted username from token: counselor1@unza.zm"}
{"@timestamp":"2026-02-19T08:40:00.171791962+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* <criteria> */ select\n        u1_0.id,\n        u1_0.user_type,\n        u1_0.is_active,\n        u1_0.authentication_source,\n        u1_0.available_for_appointments,\n        u1_0.bio,\n        u1_0.created_at,\n        u1_0.date_of_birth,\n        u1_0.department,\n        u1_0.email,\n        u1_0.email_verified,\n        u1_0.first_name,\n        u1_0.gender,\n        u1_0.has_signed_consent,\n        u1_0.last_login_at,\n        u1_0.last_name,\n        u1_0.license_number,\n        u1_0.password,\n        u1_0.phone_number,\n        u1_0.profile_picture,\n        u1_0.program,\n        u1_0.qualifications,\n        u1_0.reset_password_expiry,\n        u1_0.reset_password_token,\n        u1_0.specialization,\n        u1_0.student_id,\n        u1_0.updated_at,\n        u1_0.username,\n        u1_0.year_of_study,\n        u1_0.years_of_experience,\n        u1_0.admin_level,\n        u1_0.department_managed,\n        u1_0.client_status,\n        u1_0.consent_to_treatment,\n        u1_0.counseling_history,\n        u1_0.emergency_contact_name,\n        u1_0.emergency_contact_phone,\n        u1_0.emergency_contact_relationship,\n        u1_0.faculty,\n        u1_0.gpa,\n        u1_0.last_session_date,\n        u1_0.medical_history,\n        u1_0.notes,\n        u1_0.programme,\n        u1_0.referral_source,\n        u1_0.registration_date,\n        u1_0.risk_level,\n        u1_0.risk_score,\n        u1_0.total_sessions,\n        u1_0.available,\n        u1_0.office_location \n    from\n        users u1_0 \n    where\n        u1_0.email=?"}
{"@timestamp":"2026-02-19T08:40:00.174512179+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        r1_0.user_id,\n        r1_1.id,\n        r1_1.description,\n        r1_1.name,\n        p1_0.role_id,\n        p1_0.permission \n    from\n        user_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id \n    left join\n        role_permissions p1_0 \n            on r1_1.id=p1_0.role_id \n    where\n        r1_0.user_id=?"}
{"@timestamp":"2026-02-19T08:40:00.176215489+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    select\n        p1_0.role_id,\n        p1_0.permission \n    from\n        role_permissions p1_0 \n    where\n        p1_0.role_id=?"}
{"@timestamp":"2026-02-19T08:40:00.178795452+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Loaded user details for: counselor1@unza.zm, authorities: [ROLE_COUNSELOR]"}
{"@timestamp":"2026-02-19T08:40:00.178986362+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.181676374+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"JWT secret configured (length: 33)"}
{"@timestamp":"2026-02-19T08:40:00.183846327+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.service.JwtService","message":"Token validation - username: counselor1@unza.zm, isUsernameValid: true, expiration: Thu Feb 19 09:39:26 CAT 2026, isNotExpired: true"}
{"@timestamp":"2026-02-19T08:40:00.184221201+02:00","level":"DEBUG","logger_name":"zm.unza.counseling.security.JwtAuthenticationFilter","message":"Successfully authenticated user: counselor1@unza.zm for path: /api/v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.185034055+02:00","level":"DEBUG","logger_name":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /v1/analysis/intervention-report"}
{"@timestamp":"2026-02-19T08:40:00.185225177+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"GET \"/api/v1/analysis/intervention-report\", parameters={}"}
{"@timestamp":"2026-02-19T08:40:00.185799112+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping","message":"Mapped to zm.unza.counseling.controller.MentalHealthAcademicAnalysisController#getInterventionReport()"}
{"@timestamp":"2026-02-19T08:40:00.186324563+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.186930218+02:00","level":"DEBUG","logger_name":"org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor","message":"Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(); target is of class [zm.unza.counseling.controller.MentalHealthAcademicAnalysisController]"}
{"@timestamp":"2026-02-19T08:40:00.188713221+02:00","level":"DEBUG","logger_name":"org.hibernate.SQL","message":"\n    /* SELECT\n        a \n    FROM\n        MentalHealthAcademicAnalysis a \n    WHERE\n        a.mentalHealthStatus = :crisis \n        OR a.mentalHealthStatus = :atRisk */ select\n            m1_0.id,\n            m1_0.academic_performance_id,\n            m1_0.academic_support_recommended,\n            m1_0.ai_confidence_score,\n            m1_0.analysis_date,\n            m1_0.analysis_notes,\n            m1_0.analysis_period_end,\n            m1_0.analysis_period_start,\n            m1_0.analysis_summary,\n            m1_0.analyzed_by,\n            m1_0.anxiety_score,\n            m1_0.attendance_change,\n            m1_0.attendance_rate,\n            m1_0.client_id,\n            m1_0.concentration_issues,\n            m1_0.correlation_score,\n            m1_0.correlation_strength,\n            m1_0.counseling_recommended,\n            m1_0.counselor_notes,\n            m1_0.created_at,\n            m1_0.current_gpa,\n            m1_0.depression_score,\n            m1_0.family_issues,\n            m1_0.financial_stress,\n            m1_0.gpa_change,\n            m1_0.impact_level,\n            m1_0.intervention_needed,\n            m1_0.intervention_urgency,\n            m1_0.is_ai_generated,\n            m1_0.lifestyle_changes_recommended,\n            m1_0.mental_health_status,\n            m1_0.motivation_issues,\n            m1_0.overall_mental_health_score,\n            m1_0.peer_support_recommended,\n            m1_0.recommendations,\n            m1_0.referral_recommended,\n            m1_0.risk_assessment_id,\n            m1_0.self_assessment_id,\n            m1_0.sleep_issues,\n            m1_0.social_isolation,\n            m1_0.stress_score,\n            m1_0.substance_use_concern,\n            m1_0.trend_direction,\n            m1_0.updated_at \n        from\n            mental_health_academic_analysis m1_0 \n        where\n            m1_0.mental_health_status=? \n            or m1_0.mental_health_status=?"}
{"@timestamp":"2026-02-19T08:40:00.190444141+02:00","level":"WARN","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"SQL Error: 0, SQLState: 42703"}
{"@timestamp":"2026-02-19T08:40:00.190564242+02:00","level":"ERROR","logger_name":"org.hibernate.engine.jdbc.spi.SqlExceptionHelper","message":"ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167"}
{"@timestamp":"2026-02-19T08:40:00.191471265+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Using @ExceptionHandler zm.unza.counseling.exception.EnhancedGlobalExceptionHandler#handleRuntimeException(RuntimeException, WebRequest)"}
{"@timestamp":"2026-02-19T08:40:00.19172957+02:00","level":"ERROR","logger_name":"zm.unza.counseling.exception.EnhancedGlobalExceptionHandler","message":"Runtime exception","stack_trace":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]; SQL [n/a]\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.repository.MentalHealthAcademicAnalysisRepository.findHighRiskAnalyses(MentalHealthAcademicAnalysisRepository.java:33)\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:733)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:78)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n\tat jdk.proxy2/jdk.proxy2.$Proxy236.findHighRiskAnalyses(Unknown Source)\n\tat zm.unza.counseling.service.MentalHealthAcademicAnalysisService.getInterventionReport(MentalHealthAcademicAnalysisService.java:54)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController.getInterventionReport(MentalHealthAcademicAnalysisController.java:84)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n\tat zm.unza.counseling.controller.MentalHealthAcademicAnalysisController$$SpringCGLIB$$0.getInterventionReport(<generated>)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n\tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat zm.unza.counseling.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167] [n/a]\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n\tat jdk.proxy2/jdk.proxy2.$Proxy269.getResultList(Unknown Source)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n\t... 165 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: column m1_0.academic_support_recommended does not exist\n  Position: 167\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n\t... 202 common frames omitted\n"}
{"@timestamp":"2026-02-19T08:40:00.197196581+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/cbor]"}
{"@timestamp":"2026-02-19T08:40:00.197386869+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor","message":"Writing [zm.unza.counseling.exception.EnhancedGlobalExceptionHandler$ErrorResponse@16c6deb5]"}
{"@timestamp":"2026-02-19T08:40:00.198918841+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver","message":"Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [/* SELECT a FROM MentalHealthAcademicAnalysis a WHERE a.mentalHealthStatus = :crisis OR a.mentalHealthStatus = :atRisk */ select m1_0.id,m1_0.academic_performance_id,m1_0.academic_support_recommended,m1_0.ai_confidence_score,m1_0.analysis_date,m1_0.analysis_notes,m1_0.analysis_period_end,m1_0.analysis_period_start,m1_0.analysis_summary,m1_0.analyzed_by,m1_0.anxiety_score,m1_0.attendance_change,m1_0.attendance_rate,m1_0.client_id,m1_0.concentration_issues,m1_0.correlation_score,m1_0.correlation_strength,m1_0.counseling_recommended,m1_0.counselor_notes,m1_0.created_at,m1_0.current_gpa,m1_0.depression_score,m1_0.family_issues,m1_0.financial_stress,m1_0.gpa_change,m1_0.impact_level,m1_0.intervention_needed,m1_0.intervention_urgency,m1_0.is_ai_generated,m1_0.lifestyle_changes_recommended,m1_0.mental_health_status,m1_0.motivation_issues,m1_0.overall_mental_health_score,m1_0.peer_support_recommended,m1_0.recommendations,m1_0.referral_recommended,m1_0.risk_assessment_id,m1_0.self_assessment_id,m1_0.sleep_issues,m1_0.social_isolation,m1_0.stress_score,m1_0.substance_use_concern,m1_0.trend_direction,m1_0.updated_at from mental_health_academic_analysis m1_0 where m1_0.mental_health_status=? or m1_0.mental_health_status=?] [ERROR: column m1_0.academic_support_recommended does not exist<EOL>  Position: 167] [n/a]; SQL [n/a]]"}
{"@timestamp":"2026-02-19T08:40:00.199227185+02:00","level":"DEBUG","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed 500 INTERNAL_SERVER_ERROR"}
